<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>United Networks for Civil Protection (UNCP)</title>
<link rel="icon" href="logo.jpeg">
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>
<style>
  body{font-family:Arial,Helvetica,sans-serif;margin:0;background:#f4f6f9;color:#222}
  .container{max-width:1100px;margin:18px auto;padding:0 16px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px;background:#fff;border-bottom:1px solid #e6eefc;position:sticky;top:0;z-index:1000}
  .brand{display:flex;align-items:center;gap:12px}
  .brand img{height:100px}
  nav ul{display:flex;gap:12px;list-style:none;margin:0;padding:0;align-items:center}
  nav li{position:relative}
  nav a{color:#0b3b66;font-weight:700;padding:8px;border-radius:6px;text-decoration:none}
  .donate{background:#ff7f00;color:#fff;padding:8px 12px;border-radius:8px}
  section{background:#fff;margin:18px 0;padding:18px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.04)}
  h1,h2,h3,h4{color:#083e6b}
  .accordion{margin-top:12px}
  .accordion-item{border:1px solid #e6eefc;border-radius:8px;margin-bottom:10px;overflow:hidden}
  .accordion-header{background:#f7fbff;padding:12px;cursor:pointer;display:flex;justify-content:space-between;align-items:center}
  .accordion-body{max-height:0;overflow:hidden;transition:max-height .28s ease;padding:0 12px}
  .accordion-item.active .accordion-body{padding:12px}
  form label{display:block;margin-top:10px;font-weight:700}
  input,select,textarea{width:100%;padding:8px;border-radius:6px;border:1px solid #d6d6d6;margin-top:6px}
  .btn{background:#0b62a6;color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;margin-top:12px}
  .btn.secondary{background:#eef4ff;color:#0b62a6}
  .inline{display:flex;gap:12px}
  .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px dashed #0b62a6;margin:4px}
  footer{background:#083e6b;color:#fff;padding:24px;border-radius:10px;position:relative}
  footer .socials a{display:inline-block;width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%;background:#ff7f00;color:#fff;margin-right:8px;text-decoration:none;font-weight:bold;transition:0.3s}
  footer .socials a:hover{background:#fff;color:#083e6b;transform:scale(1.2)}
</style>
</head>
<body>
<div class="container">

<header>
  <div class="brand">
    <a href="#home"><img src="logo.jpeg" alt="UNCP Logo"></a>
  </div>
  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#what-we-do">What We Do</a></li>
      <li><a href="#where-we-work">Where We Work</a></li>
      <li><a href="#careersSection">Careers</a></li>
      <li><a href="#donate" class="donate">Donate</a></li>
    </ul>
  </nav>
</header>

<section id="home">
  <h1>United Networks for Civil Protection (UNCP)</h1>
  <p><strong>Type:</strong> Community-Based Organization</p>
  <p><strong>Incorporated:</strong> Company Limited by Guarantee, Uganda</p>
  <p class="muted">We protect and empower vulnerable children, youth and communities in refugee & host settings.</p>
</section>

<section id="about" class="accordion">
  <div class="accordion-item" id="accordion-about">
    <div class="accordion-header">About UNCP <span>+</span></div>
    <div class="accordion-body">
      <h3>Overview</h3>
      <p>United Networks for Civil Protection (UNCP) ... (short overview)</p>
      <h4>History</h4>
      <p>Founded in 2018 by child protection specialists...</p>
      <h4>Mission & Vision</h4>
      <p>Mission: ... Vision: ...</p>
    </div>
  </div>
</section>

<section id="careersSection">
  <h2>Open Positions</h2>
  <input id="jobSearch" placeholder="Filter positions..." style="width:100%;padding:10px;border-radius:8px;border:1px solid #ddd;margin-bottom:12px">
  <div id="jobList">
    <div class="job card" data-deadline="2025-09-24" style="padding:12px;margin-bottom:12px;border-left:4px solid #083e6b;">
      <strong>Child Protection Case Worker (Volunteer)</strong>
      <div style="margin-top:6px;color:#444">Arua City • 6 months • Application: 10 Sep 2025 – 24 Sep 2025</div>
      <div style="margin-top:8px">
        <button class="btn" onclick="showJD('Child Protection Case Worker (Volunteer)')">View JD</button>
        <button class="btn" onclick="startApplication('Child Protection Case Worker (Volunteer)','2025-09-24')">Apply</button>
      </div>
    </div>
  </div>
</section>

<div id="jdModal" style="display:none;position:fixed;left:50%;top:6%;transform:translateX(-50%);max-width:900px;width:92%;background:#fff;padding:16px;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,.25);z-index:3000;">
  <div id="jdContent"></div>
  <div style="text-align:right;margin-top:12px"><button onclick="closeJD()" class="btn secondary">Close</button></div>
</div>

<section id="application" class="card" style="padding:16px;display:none"></section>
<section id="submitInfo" style="display:none" class="card">
  <h2>Submitting...</h2>
  <p id="submitStatus">Please wait while we process your application.</p>
</section>

<section id="donate" class="card">
  <h2>Donate / Contact</h2>
  <p>Email: <a href="mailto:uncip2019@gmail.com">uncip2019@gmail.com</a></p>
  <p>Tel: +256 702 398687 / +256 779 576538</p>
</section>

<footer>
  <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap">
    <div><img src="logo.jpeg" alt="UNCP" style="height:80px"></div>
    <div>
      <p><strong>Contact</strong></p>
      <p>Email: <a href="mailto:uncip2019@gmail.com" style="color:#fff;text-decoration:underline">uncip2019@gmail.com</a><br>Tel: +256 702 398687 / +256 779 576538</p>
    </div>
    <div>
      <p><strong>Follow</strong></p>
      <div class="socials">
        <a href="#">F</a>
        <a href="#">X</a>
        <a href="#">I</a>
        <a href="#">Y</a>
      </div>
    </div>
  </div>
</footer>

<script>
emailjs.init("YOUR_EMAILJS_USER_ID");

/* Accordion */
document.querySelectorAll('.accordion-item .accordion-header').forEach(h=>{
  h.addEventListener('click', ()=>{
    const item = h.parentElement;
    item.classList.toggle('active');
    const body = item.querySelector('.accordion-body');
    if(item.classList.contains('active')){ body.style.maxHeight = body.scrollHeight + 'px'; h.querySelector('span').innerText='−'; }
    else { body.style.maxHeight=null; h.querySelector('span').innerText='+'; }
  });
});

/* Job deadline & filter */
(function(){
  const today = new Date();
  document.querySelectorAll('#jobList .job').forEach(job=>{
    const d = job.dataset.deadline;
    if(d && new Date(d+'T23:59:59')<today) job.style.display='none';
  });
  document.getElementById('jobSearch').addEventListener('input', function(){
    const q=this.value.toLowerCase();
    document.querySelectorAll('#jobList .job').forEach(job=>{
      const title = job.querySelector('strong').innerText.toLowerCase();
      job.style.display = title.includes(q)?'':'none';
    });
  });
})();

/* JD modal */
const jobDescriptions={"Child Protection Case Worker (Volunteer)":"<h3>Child Protection Case Worker (Volunteer)</h3><p>Purpose: Provide direct support...</p>"};
function showJD(title){ document.getElementById('jdContent').innerHTML=jobDescriptions[title]||'<p>JD not found.</p>'; document.getElementById('jdModal').style.display='block'; }
function closeJD(){ document.getElementById('jdModal').style.display='none'; }
document.addEventListener('keydown', (e)=>{if(e.key==='Escape') closeJD();});

/* Multi-step application form (hidden by default) */
const formSteps = [
  {title:'Step 1: Personal Info',fields:[{label:'First Name',type:'text',name:'firstName',required:true},{label:'Last Name',type:'text',name:'lastName',required:true},{label:'Email',type:'email',name:'email',required:true},{label:'Phone',type:'tel',name:'phone',required:true}]},
  {title:'Step 2: Address',fields:[{label:'Street',type:'text',name:'street',required:true},{label:'City',type:'text',name:'city',required:true},{label:'State',type:'text',name:'state',required:false},{label:'Country',type:'text',name:'country',required:true}]},
  {title:'Step 3: Education',fields:[{label:'Highest Qualification',type:'text',name:'qualification',required:true},{label:'Institution',type:'text',name:'institution',required:true},{label:'Year Graduated',type:'number',name:'gradYear',required:true}]},
  {title:'Step 4: Work Experience',fields:[{label:'Most Recent Employer',type:'text',name:'employer',required:true},{label:'Role/Position',type:'text',name:'role',required:true},{label:'Years of Experience',type:'number',name:'experience',required:true}]},
  {title:'Step 5: Skills',fields:[{label:'Skills',type:'textarea',name:'skills',required:true}]},
  {title:'Step 6: References',fields:[{label:'Reference Name',type:'text',name:'refName',required:true},{label:'Reference Contact',type:'text',name:'refContact',required:true}]},
  {title:'Step 7: Additional Info',fields:[{label:'Why suitable?',type:'textarea',name:'additionalInfo',required:true}]},
  {title:'Step 8: Review & Submit',fields:[{label:'Accept Terms',type:'checkbox',name:'acceptTerms',required:true}]}
];
let currentStep=0,formData={};
function startApplication(title,deadline){currentStep=0;formData={jobTitle:title,deadline:deadline};renderStep();document.getElementById('application').style.display='block';window.scrollTo({top:0,behavior:'smooth'});}
function renderStep(){const section=document.getElementById('application');const step=formSteps[currentStep];let html=`<h2>${step.title}</h2><form id="multiStepForm">`;step.fields.forEach(f=>{html+=`<label>${f.label}${f.required?' *':''}</label>`;html+=f.type==='textarea'?`<textarea name="${f.name}" ${f.required?'required':''}></textarea>`:f.type==='checkbox'?`<input type="checkbox" name="${f.name}" ${f.required?'required':''}>`:`<input type="${f.type}" name="${f.name}" ${f.required?'required':''}>`;});html+=`<div style="margin-top:12px;">`;if(currentStep>0) html+=`<button type="button" class="btn secondary" onclick="prevStep()">Previous</button>`;if(currentStep<formSteps.length-1) html+=`<button type="button" class="btn" onclick="nextStep()">Next</button>`;else html+=`<button type="button" class="btn" onclick="submitForm()">Submit</button>`;html+=`</div></form>`;section.innerHTML=html;const formEl=document.getElementById('multiStepForm');for(let k in formData){const field=formEl.querySelector(`[name="${k}"]`);if(field){if(field.type==='checkbox') field.checked=formData[k];else field.value=formData[k];}}}
function nextStep(){const formEl=document.getElementById('multiStepForm');if(!formEl.checkValidity()) return formEl.reportValidity();Array.from(formEl.elements).forEach(input=>{if(input.name) formData[input.name]=input.type==='checkbox'?input.checked:input.value;});currentStep++;renderStep();}
function prevStep(){const formEl=document.getElementById('multiStepForm');Array.from(formEl.elements).forEach(input=>{if(input.name) formData[input.name]=input.type==='checkbox'?input.checked:input.value;});currentStep--;renderStep();}
function submitForm(){const formEl=document.getElementById('multiStepForm');if(!formEl.checkValidity()) return formEl.reportValidity();Array.from(formEl.elements).forEach(input=>{if(input.name) formData[input.name]=input.type==='checkbox'?input.checked:input.value;});document.getElementById('application').style.display='none';const submitSection=document.getElementById('submitInfo');submitSection.style.display='block';submitSection.querySelector('#submitStatus').innerText='Processing your application...';const { jsPDF } = window.jspdf;const doc=new jsPDF();let y=10;for(let key in formData){doc.text(`${key}: ${formData[key]}`,10,y);y+=8;}doc.save(`${formData.jobTitle.replace(/\s/g,'_')}_Application.pdf`);setTimeout(()=>{submitSection.querySelector('#submitStatus').innerText='Application submitted successfully!';},1500);}
</script>
</div>
</body>
</html>
