<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>United Networks for Civil Protection (UNCP)</title>
  <style>
    body { font-family: Arial,sans-serif; margin:0; padding:0; background:#fff; color:#333; line-height:1.6; scroll-behavior:smooth; }
    header { display:flex; justify-content:space-between; align-items:center; background:#003366; color:white; padding:10px 20px; position:sticky; top:0; z-index:100; }
    header img { height:55px; }
    nav { display:flex; align-items:center; }
    nav a { color:white; margin:0 10px; text-decoration:none; font-weight:500; }
    nav a:hover { text-decoration:underline; }
    .donate-btn { background:orange; color:white; padding:8px 15px; border-radius:5px; text-decoration:none; font-weight:bold; transition:background 0.3s; cursor:pointer; }
    .donate-btn:hover { background:darkorange; }
    section { padding:30px 20px; max-width:900px; margin:auto; }
    h1,h2 { color:#003366; }
    .accordion { border-radius:5px; margin:15px 0; overflow:hidden; }
    .accordion-item { border-bottom:1px solid #ccc; }
    .accordion-header { width:100%; text-align:left; padding:10px; background:#f2f2f2; border:none; font-size:16px; cursor:pointer; font-weight:bold; position:relative; }
    .accordion-header::after { content:"‚ñ∂"; position:absolute; right:15px; transition:transform 0.3s ease; }
    .accordion-item.active .accordion-header::after { transform:rotate(90deg); }
    .accordion-header:hover { background:#e1e1e1; }
    .accordion-content { max-height:0; overflow:hidden; background:#fafafa; transition:max-height 0.4s ease, padding 0.3s ease; padding:0 10px; }
    .accordion-item.active .accordion-content { max-height:800px; padding:10px; }
    .impact { display:flex; justify-content:center; gap:40px; margin:20px 0; flex-wrap:wrap; }
    .impact div { text-align:center; }
    footer { background:#222; color:white; padding:20px; text-align:center; margin-top:30px; position:relative; }
    footer img { height:40px; float:left; margin-right:10px; }
    footer .social-icons { margin:10px 0; }
    footer .social-icons a { margin:0 5px; color:white; font-size:20px; text-decoration:none; }
    #backToTop { display:none; position:fixed; bottom:30px; right:30px; z-index:99; font-size:18px; background:orange; color:white; border:none; border-radius:50%; width:45px; height:45px; cursor:pointer; box-shadow:0 4px 8px rgba(0,0,0,0.2); transition:background 0.3s, transform 0.3s; }
    #backToTop:hover { background:darkorange; transform:scale(1.1); }
    .modal { display:none; position:fixed; z-index:1000; left:0; top:0; width:100%; height:100%; overflow:auto; background:rgba(0,0,0,0.5); }
    .modal-content { background:#fff; margin:10% auto; padding:20px; border-radius:10px; max-width:700px; position:relative; }
    .close { color:#aaa; position:absolute; right:15px; top:10px; font-size:28px; font-weight:bold; cursor:pointer; }
    .close:hover { color:black; }
    .step { display:none; }
    .step.active { display:block; }
    .button-row { display:flex; justify-content:space-between; margin-top:15px; }
    input, textarea, select { width:100%; padding:8px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc; }
  </style>
</head>
<body>

<header>
  <img src="logo.jpg" alt="UNCP Logo">
  <nav>
    <a href="#home">Home</a>
    <a href="#donate" class="donate-btn">Donate</a>
    <a href="javascript:void(0)" id="search-icon">üîç</a>
    <input type="text" id="search-box" class="search-box" placeholder="Type & press Enter...">
  </nav>
</header>

<section id="home">
  <h1>Welcome to United Networks for Civil Protection (UNCP)</h1>
  <p>We are a community-based non-profit organization incorporated as a company limited by guarantee in Uganda. UNCP works to protect and empower vulnerable children, youth, and communities for a safer, more resilient society.</p>

  <div class="impact">
    <div><h2>20+</h2><p>Community Projects</p></div>
    <div><h2>5</h2><p>Active Donors</p></div>
  </div>

  <div class="accordion">
    <div class="accordion-item">
      <button class="accordion-header">About UNCP</button>
      <div class="accordion-content">
        <p><strong>Type:</strong> Community-Based Organization</p>
        <p><strong>Incorporated as:</strong> Company Limited by Guarantee in Uganda</p>
        <p><strong>Founded:</strong> 2018</p>
        <p><strong>Mission:</strong> To protect and empower vulnerable children, youth, and communities.</p>
        <p><strong>Vision:</strong> A safe, inclusive, and resilient society where every child and vulnerable person thrives.</p>
      </div>
    </div>

    <div class="accordion-item">
      <button class="accordion-header">What We Do</button>
      <div class="accordion-content">
        <p>UNCP delivers holistic, community-led interventions in the following sectors:</p>
        <ul>
          <li><strong>Child Protection:</strong> Safeguarding children through community engagement, psychosocial support, and case management.</li>
          <li><strong>GBV Prevention & Response:</strong> Addressing gender-based violence through awareness, prevention, and support services.</li>
          <li><strong>Sustainable Livelihoods & Climate Resilience:</strong> Enhancing livelihoods and adapting to climate change to ensure community resilience.</li>
          <li><strong>Inclusive Education:</strong> Promoting access and quality of education for all children.</li>
          <li><strong>MHPSS:</strong> Mental health and psychosocial support for vulnerable groups.</li>
          <li><strong>Youth & Adolescents Empowerment:</strong> Life skills and leadership programs for young people.</li>
        </ul>
      </div>
    </div>

    <div class="accordion-item">
      <button class="accordion-header">Where We Work</button>
      <div class="accordion-content">
        <p>We operate in Uganda ‚Äî particularly in refugee-hosting and vulnerable districts across West Nile and Northern regions.</p>
      </div>
    </div>

    <div class="accordion-item">
      <button class="accordion-header">Get Involved</button>
      <div class="accordion-content">
        <h3>Open Positions</h3>
        <div id="positionsContainer"></div>
      </div>
    </div>
  </div>
</section>

<!-- JD Modal -->
<div id="jdModal" class="modal">
  <div class="modal-content">
    <span class="close" id="jdClose">&times;</span>
    <div id="jdContent"></div>
  </div>
</div>

<!-- Application Modal -->
<div id="applyModal" class="modal">
  <div class="modal-content">
    <span class="close" id="applyClose">&times;</span>
    <div id="autofillPrompt" style="margin-bottom:10px; display:none;">
      <button onclick="usePrevious()">Use Previous Application</button>
      <button onclick="skipPrevious()">Apply Manually</button>
    </div>
    <form id="applicationForm"></form>
  </div>
</div>

<footer>
  <img src="logo.jpg" alt="UNCP Logo">
  <p>Contact us: uncip2019@gmail.com | +256702398687 | +256779576538</p>
  <div class="social-icons">
    <a href="#">üìò</a>
    <a href="#">üê¶</a>
    <a href="#">üì∏</a>
    <a href="#">‚ñ∂Ô∏è</a>
    <a href="#">üéµ</a>
    <a href="#">üíº</a>
  </div>
  <a href="#donate" class="donate-btn">Donate</a>
</footer>

<button id="backToTop" title="Back to Top">‚Üë</button>

<script>
  // Accordion
  document.querySelectorAll('.accordion-header').forEach(button=>{
    button.addEventListener('click',()=>{
      const item=button.parentElement;
      item.classList.toggle('active');
    });
  });

  // Back to Top
  const topButton=document.getElementById("backToTop");
  window.onscroll=function(){
    if(document.body.scrollTop>100||document.documentElement.scrollTop>100){topButton.style.display="block";}else{topButton.style.display="none";}
  };
  topButton.addEventListener("click",()=>{window.scrollTo({top:0, behavior:"smooth"});});

  // Search box
  const searchIcon=document.getElementById('search-icon');
  const searchBox=document.getElementById('search-box');
  searchIcon.addEventListener('click',()=>{
    searchBox.style.display=searchBox.style.display==='inline-block'?'none':'inline-block';
    searchBox.focus();
  });

  searchBox.addEventListener('keypress',function(e){
    if(e.key==='Enter'){
      e.preventDefault();
      const term=this.value.toLowerCase();
      let found=false; let firstMatch=null;
      document.querySelectorAll('.accordion-content, .accordion-header').forEach(el=>{
        el.innerHTML=el.innerHTML.replace(/<span class="highlight">|<\/span>/g,'');
        if(el.textContent.toLowerCase().includes(term)&&term!==""){
          el.parentElement.classList.add('active');
          const regex=new RegExp(`(${term})`,'gi');
          el.innerHTML=el.innerHTML.replace(regex,'<span class="highlight">$1</span>');
          if(!firstMatch) firstMatch=el;
          found=true;
        }
      });
      if(found&&firstMatch){firstMatch.scrollIntoView({behavior:"smooth",block:"center"});}
      else{alert(`No results found for "${term}".`);}
    }
  });

  // --- POSITIONS AND MODALS ---
  const positions=[
    {title:"Funds Raising Volunteer",location:"Arua City",type:"Volunteer",period:"16 Oct ‚Äì 16 Nov 2025",
      responsibilities:["Support planning & execution of fundraising campaigns","Identify and engage donors, sponsors, partners","Assist in drafting proposals and donor communications","Maintain accurate records","Promote UNCP‚Äôs mission","Collaborate with UNCP team on innovative strategies"],
      qualifications:["Diploma in relevant field","Strong communication & interpersonal skills","Interest in fundraising & community engagement","Teamwork & independence","Basic fundraising knowledge advantage","Commitment to UNCP values"]},
    {title:"Child Protection Case Worker (Volunteer)",location:"Arua City",type:"Volunteer",period:"16 Sep ‚Äì 31 Oct 2025",
      responsibilities:["Provide case management and psychosocial support to children at risk","Community-based child protection interventions"],
      qualifications:["Diploma in Social Work or related field","Experience preferred","Strong communication & interpersonal skills"]}
  ];
  const container=document.getElementById('positionsContainer');
  positions.forEach((pos,index)=>{
    let item=document.createElement('div'); item.classList.add('accordion-item');
    let header=document.createElement('button'); header.classList.add('accordion-header'); header.textContent=`${pos.title} ‚Äì ${pos.location} ‚Ä¢ ${pos.type} ‚Ä¢ ${pos.period}`; item.appendChild(header);
    let content=document.createElement('div'); content.classList.add('accordion-content');
    let respHTML="<h4>Responsibilities:</h4><ul>"; pos.responsibilities.forEach(r=>{respHTML+=`<li>${r}</li>`}); respHTML+="</ul>";
    let qualHTML="<h4>Qualifications:</h4><ul>"; pos.qualifications.forEach(q=>{qualHTML+=`<li>${q}</li>`}); qualHTML+="</ul>";
    content.innerHTML=`${respHTML}${qualHTML}<button class="donate-btn viewJDBtn" data-index="${index}">View JD</button> <button class="donate-btn applyBtn">Apply</button>`;
    item.appendChild(content); container.appendChild(item);
  });

  const jdModal=document.getElementById("jdModal");
  const jdContent=document.getElementById("jdContent");
  const applyModal=document.getElementById("applyModal");
  document.addEventListener('click',e=>{
    if(e.target.classList.contains('viewJDBtn')){
      const idx=e.target.getAttribute('data-index'); const pos=positions[idx];
      let jdHTML=`<h3>${pos.title} ‚Äì ${pos.location}</h3><p><strong>Type:</strong> ${pos.type}</p><p><strong>Application Period:</strong> ${pos.period}</p><h4>Responsibilities:</h4><ul>`;
      pos.responsibilities.forEach(r=>{jdHTML+=`<li>${r}</li>`;}); jdHTML+="</ul><h4>Qualifications:</h4><ul>"; pos.qualifications.forEach(q=>{jdHTML+=`<li>${q}</li>`;}); jdHTML+="</ul>";
      jdContent.innerHTML=jdHTML; jdModal.style.display="block";
    }
    if(e.target.classList.contains('applyBtn')){ renderApplicationForm(); applyModal.style.display='block'; document.getElementById("autofillPrompt").style.display="block";}
  });
  document.getElementById("jdClose").onclick=()=>jdModal.style.display="none";
  document.getElementById("applyClose").onclick=()=>applyModal.style.display="none";
  window.onclick=function(event){ if(event.target==jdModal) jdModal.style.display="none"; if(event.target==applyModal) applyModal.style.display="none"; }

  // --- MULTI-STEP FORM FUNCTIONS ---
  let currentStep=1;
  function showStep(step){ document.querySelectorAll('.step').forEach(s=>s.classList.remove('active')); document.querySelector(`.step${step}`).classList.add('active'); }
  function nextStep(){ if(currentStep<7){currentStep++; showStep(currentStep);} }
  function prevStep(){ if(currentStep>1){ currentStep--; showStep(currentStep);} }
  function addExperience(){ const container=document.getElementById('experienceContainer'); if(container.children.length>=4){ alert("Max 4 experiences"); return; } const div=document.createElement('div'); div.innerHTML=`<input type="text" placeholder="Job Title" required><input type="text" placeholder="Organization" required><input type="text" placeholder="Location" required><input type="text" placeholder="From - To" required><button type="button" onclick="this.parentElement.remove()">Remove</button>`; container.appendChild(div);}
  function addEducation(){ const container=document.getElementById('educationContainer'); if(container.children.length>=4){ alert("Max 4 education"); return; } const div=document.createElement('div'); div.innerHTML=`<input type="text" placeholder="Degree / Diploma" required><input type="text" placeholder="Institution" required><input type="text" placeholder="Year Completed" required><button type="button" onclick="this.parentElement.remove()">Remove</button>`; container.appendChild(div);}
  document.getElementById('applicationForm').addEventListener('submit',function(e){ e.preventDefault(); if(!document.getElementById('coverLetter').files.length){ alert("Cover letter required"); return; } alert("Application submitted successfully!"); this.reset(); currentStep=1; showStep(currentStep); });
  function usePrevious(){ alert("Auto-fill previous data"); document.getElementById("autofillPrompt").style.display="none"; }
  function skipPrevious(){ alert("Manual entry"); document.getElementById("autofillPrompt").style.display="none"; }
  function renderApplicationForm(){
    const form=document.getElementById('applicationForm'); form.innerHTML=`
    <div class="step step1 active"><h3>Step 1: Personal Info</h3>
    <label>Full Name*:</label><input type="text" id="fullName" required>
    <label>Email*:</label><input type="email" id="email" required>
    <label>Phone*:</label><input type="text" id="phone" required>
    <label>How did you hear about us?*:</label>
    <select id="hearAbout" required><option value="">Select</option><option>UNCP Career Page</option><option>Social Media</option><option>Newspaper</option><option>Staff of UNCP</option><option>Others</option></select>
    <div class="button-row"><button type="button" onclick="nextStep()">Next</button></div></div>
    
    <div class="step step2"><h3>Step 2: Experience</h3><div id="experienceContainer"></div><button type="button" onclick="addExperience()">Add Experience</button>
    <div class="button-row"><button type="button" onclick="prevStep()">Back</button><button type="button" onclick="nextStep()">Next</button></div></div>
    
    <div class="step step3"><h3>Step 3: Education</h3><div id="educationContainer"></div><button type="button" onclick="addEducation()">Add Education</button>
    <div class="button-row"><button type="button" onclick="prevStep()">Back</button><button type="button" onclick="nextStep()">Next</button></div></div>
    
    <div class="step step4"><h3>Step 4: Certifications (Optional)</h3><textarea id="certifications" placeholder="List any certifications"></textarea>
    <div class="button-row"><button type="button" onclick="prevStep()">Back</button><button type="button" onclick="nextStep()">Next</button></div></div>
    
    <div class="step step5"><h3>Step 5: Languages</h3>
    <select id="languages" multiple><option>Lugbarati</option><option>Alur</option><option>Acholi</option><option>Kakwa</option><option>Ma'di</option><option>English</option><option>Other</option></select>
    <div class="button-row"><button type="button" onclick="prevStep()">Back</button><button type="button" onclick="nextStep()">Next</button></div></div>
    
    <div class="step step6"><h3>Step 6: Skills</h3>
    <select id="skills" multiple><option>Child Protection</option><option>GBV Prevention & Response</option><option>Inclusive Education</option><option>MHPSS</option><option>Youth Empowerment</option><option>Livelihoods & Climate Resilience</option></select>
    <div class="button-row"><button type="button" onclick="prevStep()">Back</button><button type="button" onclick="nextStep()">Next</button></div></div>
    
    <div class="step step7"><h3>Step 7: Application Questions</h3>
    <label>1. How have your achievements and operational experience to date prepared you for this position?*</label>
    <textarea id="q1" maxlength="1500" required></textarea>
    <label>2. Please describe any skills and competencies you have, and which may be of particular relevance to this position.*</label>
    <textarea id="q2" maxlength="1500" required></textarea>
    <label>3. How does this position align with your career aspirations?*</label>
    <textarea id="q3" maxlength="1500" required></textarea>
    <label>Upload Cover Letter / Motivation Letter*:</label>
    <input type="file" id="coverLetter" accept=".pdf,.doc,.docx" required>
    <div class="button-row"><button type="button" onclick="prevStep()">Back</button><button type="submit">Submit Application</button></div></div>
    `;
    currentStep=1; showStep(currentStep);
  }
</script>

</body>
</html>
