<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>United Networks for Civil Protection (UNCP)</title>
<link rel="icon" href="logo.jpeg">

<!-- JS for EmailJS and jsPDF -->
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>

<style>
/* ===== GENERAL ===== */
body {font-family: 'Arial', Helvetica, sans-serif; margin:0; background:#f4f6f9; color:#222;}
a {text-decoration:none;}
.container {max-width:1100px; margin:18px auto; padding:0 16px;}

/* ===== HEADER ===== */
header {display:flex; align-items:center; justify-content:space-between; padding:12px; background:#fff; border-bottom:1px solid #e6eefc; position:sticky; top:0; z-index:1000;}
.brand {display:flex; align-items:center; gap:16px;}
.brand img {height:100px; transition: transform 0.3s, box-shadow 0.3s; cursor:pointer;}
.brand img:hover {transform: scale(1.05) rotate(-1deg); box-shadow:0 6px 18px rgba(0,0,0,0.25);}
nav ul {display:flex; gap:12px; list-style:none; margin:0; padding:0; align-items:center;}
.donate {background:#ff7f00; color:#fff; padding:10px 16px; border-radius:8px; font-weight:700; transition: transform 0.3s; animation: pulseGlow 2s infinite;}
.donate:hover {transform: scale(1.1);}
@keyframes pulseGlow {0% { box-shadow:0 0 6px #ff7f00,0 0 10px #ff7f00; }50% { box-shadow:0 0 12px #ff9f50,0 0 20px #ff9f50; }100% { box-shadow:0 0 6px #ff7f00,0 0 10px #ff7f00; }}

/* ===== HOME SECTION ===== */
#home {background: linear-gradient(135deg,#f0f6ff,#e6f0ff); position:relative; overflow:hidden; border-radius:10px; padding:60px 16px; text-align:center; margin-bottom:24px;}
#home::before {content:''; position:absolute; top:-50px; left:-50px; width:300px; height:300px; background: radial-gradient(circle, rgba(255,127,0,0.15), transparent 70%); border-radius:50%; z-index:0;}
#home::after {content:''; position:absolute; bottom:-80px; right:-80px; width:400px; height:400px; background: radial-gradient(circle, rgba(11,98,166,0.15), transparent 70%); border-radius:50%; z-index:0;}
.info-card {position:relative; z-index:1; background:#fff; margin:12px auto; padding:24px; border-radius:12px; max-width:800px; opacity:0; transform:translateY(30px); transition: transform 0.6s ease-out, opacity 0.6s ease-out;}
.info-card.visible {opacity:1; transform:translateY(0);}
.chip {display:inline-block; padding:6px 10px; border-radius:999px; border:1px dashed #0b62a6; margin:4px;}

/* ===== FOOTER ===== */
footer {margin-top:24px; padding:32px; background:linear-gradient(135deg,#083e6b,#0b62a6); color:#fff; border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,0.2);}
footer .footer-content {display:flex; flex-wrap:wrap; gap:24px; justify-content:space-between; align-items:flex-start;}
footer img {height:60px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); transition: transform 0.3s;}
footer img:hover {transform: scale(1.05);}
footer .socials a {display:inline-block; width:36px; height:36px; line-height:36px; text-align:center; border-radius:50%; margin-right:8px; font-weight:bold; color:#fff; background:linear-gradient(45deg,#ff7f00,#0b62a6); transition: transform 0.3s, background 0.5s;}
footer .socials a:hover {transform: scale(1.2) rotate(10deg); background:linear-gradient(45deg,#ff9f50,#1461b0);}

/* ===== CAREERS & FORM ===== */
section h2 {color:#083e6b;}
.card {background:#fff; margin-bottom:18px; padding:16px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.05);}
input, select, textarea {width:100%; padding:8px; margin-top:6px; border-radius:6px; border:1px solid #d6d6d6;}
.btn {background:#0b62a6; color:#fff; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; margin-top:12px;}
.btn.secondary {background:#eef4ff; color:#0b62a6;}
.inline {display:flex; gap:12px;}
.form-step {display:none;}
</style>
</head>
<body>

<div class="container">

  <!-- HEADER -->
  <header>
    <div class="brand"><a href="#home"><img src="logo.jpeg" alt="UNCP Logo"></a></div>
    <nav>
      <ul>
        <li><a href="#careersSection">Careers</a></li>
        <li><a href="#donate" class="donate">Donate</a></li>
      </ul>
    </nav>
  </header>

  <!-- HOME SECTION -->
  <section id="home">
    <div class="info-card">
      <h1>United Networks for Civil Protection (UNCP)</h1>
      <p><strong>Type:</strong> Community-Based Organization</p>
      <p><strong>Incorporated:</strong> Company Limited by Guarantee, Uganda</p>
      <p>We protect and empower vulnerable children, youth, and communities in refugee & host settings.</p>
    </div>
  </section>

  <!-- CAREERS SECTION -->
  <section id="careersSection" class="card">
    <h2>Open Positions</h2>
    <input id="jobSearch" placeholder="Filter positions..." style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; margin-bottom:12px">
    <div id="jobList">
      <div class="job card" data-deadline="2025-09-24" style="padding:12px; margin-bottom:12px; border-left:4px solid #083e6b;">
        <strong>Child Protection Case Worker (Volunteer)</strong>
        <div style="margin-top:6px; color:#444">Arua City • 6 months • Application: 10 Sep 2025 – 24 Sep 2025</div>
        <div style="margin-top:8px">
          <button class="btn" onclick="showJD('Child Protection Case Worker (Volunteer)')">View JD</button>
          <button class="btn" onclick="startApplication('Child Protection Case Worker (Volunteer)','2025-09-24')">Apply</button>
        </div>
      </div>
    </div>
  </section>

  <!-- JOB DESCRIPTION MODAL -->
  <div id="jdModal" style="display:none;position:fixed;left:50%;top:6%;transform:translateX(-50%);max-width:900px;width:92%;background:#fff;padding:16px;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,.25);z-index:3000;">
    <div id="jdContent"></div>
    <div style="text-align:right;margin-top:12px"><button onclick="closeJD()" class="btn secondary">Close</button></div>
  </div>

  <!-- APPLICATION FORM (HIDDEN BY DEFAULT) -->
  <section id="application" class="card" style="padding:16px; display:none;">
    <h2>Application Form</h2>
    <form id="careersForm">
      <input type="hidden" name="position_title" id="position_title" value="">
      <!-- ===== Multi-step form steps 1 → 8 will be inserted dynamically with all fields and dynamic add buttons ===== -->
    </form>
  </section>

  <!-- DONATE / CONTACT -->
  <section id="donate" class="info-card">
    <h2>Donate / Contact</h2>
    <p>Email: <a href="mailto:uncip2019@gmail.com">uncip2019@gmail.com</a></p>
    <p>Tel: +256 702 398687 / +256 779 576538</p>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">
      <div><img src="logo.jpeg" alt="UNCP Logo"></div>
      <div>
        <p><strong>Contact</strong></p>
        <p>Email: <a href="mailto:uncip2019@gmail.com" style="color:#fff">uncip2019@gmail.com</a><br>
        Tel: +256 702 398687 / +256 779 576538</p>
      </div>
      <div>
        <p><strong>Follow</strong></p>
        <div class="socials">
          <a href="#">F</a><a href="#">X</a><a href="#">I</a><a href="#">Y</a>
        </div>
      </div>
    </div>
  </footer>
</div>

<script>
// ===== Animate home cards =====
function animateOnScroll() {
  const cards = document.querySelectorAll('.info-card');
  const triggerBottom = window.innerHeight * 0.85;
  cards.forEach(card => {
    const cardTop = card.getBoundingClientRect().top;
    if(cardTop < triggerBottom) card.classList.add('visible');
  });
}
window.addEventListener('scroll', animateOnScroll);
window.addEventListener('load', animateOnScroll);

// ===== JOB FILTER =====
document.getElementById('jobSearch').addEventListener('input', function() {
  const q = this.value.toLowerCase();
  document.querySelectorAll('#jobList .job').forEach(job=>{
    const title = job.querySelector('strong').innerText.toLowerCase();
    job.style.display = title.includes(q) ? '' : 'none';
  });
});

// ===== JOB DESCRIPTION MODAL =====
const jobDescriptions = {
  "Child Protection Case Worker (Volunteer)": `<h3>Child Protection Case Worker (Volunteer)</h3>
  <p>Provide support to children at risk, case management, PSS, and community engagement.</p>
  <h4>Responsibilities</h4><ul><li>Case intake & management</li><li>PSS & referrals</li><li>Community awareness</li></ul>
  <h4>Qualifications</h4><p>Degree/diploma in Social Work, Psychology or related field; prior experience advantageous.</p>`
};
function showJD(title){
  document.getElementById('jdContent').innerHTML = jobDescriptions[title] || '<p>Job description not found.</p>';
  document.getElementById('jdModal').style.display = 'block';
}
function closeJD(){ document.getElementById('jdModal').style.display = 'none'; }

// ===== APPLICATION FORM SHOW =====
function startApplication(title, deadline){
  document.getElementById('position_title').value = title;
  document.getElementById('application').style.display = 'block';
  window.scrollTo({top: document.getElementById('application').offsetTop, behavior:'smooth'});
  goToStep(1);
}

// ===== EMAILJS =====
emailjs.init("YOUR_EMAILJS_USER_ID");

// ===== Multi-step form logic =====
let currentStep = 1, totalSteps = 8;
function goToStep(n){
  if(n<1||n>totalSteps) return;
  document.querySelectorAll('.form-step').forEach(el=>el.style.display='none');
  const show = document.querySelector(`.form-step[data-step="${n}"]`);
  if(show) show.style.display='block';
  currentStep=n;
}
goToStep(1);

// ===== Escape key closes JD =====
document.addEventListener('keydown', (e)=>{if(e.key==='Escape') closeJD();});
</script>

</body>
</html>

