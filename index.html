<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>United Networks for Civil Protection (UNCP)</title>
<link rel="icon" href="logo.jpeg">
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>
<style>
  body{font-family:Arial,Helvetica,sans-serif;margin:0;background:#f4f6f9;color:#222}
  .container{max-width:1100px;margin:18px auto;padding:0 16px}
  header{display:flex;align-items:center;justify-content:space-between;padding:12px;background:#fff;border-bottom:1px solid #e6eefc;position:sticky;top:0;z-index:1000}
  .brand{display:flex;align-items:center;gap:12px}
  .brand img{height:100px} /* enlarged logo */
  nav ul{display:flex;gap:12px;list-style:none;margin:0;padding:0;align-items:center}
  nav li{position:relative}
  nav a{color:#0b3b66;font-weight:700;padding:8px;border-radius:6px;text-decoration:none}
  .donate{background:#ff7f00;color:#fff;padding:8px 12px;border-radius:8px}
  section{background:#fff;margin:18px 0;padding:18px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.04)}
  h1,h2{color:#083e6b}
  .accordion-item{border:1px solid #e6eefc;border-radius:8px;margin-bottom:10px;overflow:hidden}
  .accordion-header{background:#f7fbff;padding:12px;cursor:pointer;display:flex;justify-content:space-between;align-items:center}
  .accordion-body{max-height:0;overflow:hidden;transition:max-height .28s ease;padding:0 12px}
  .accordion-item.active .accordion-body{padding:12px}
  form label{display:block;margin-top:10px;font-weight:700}
  input,select,textarea{width:100%;padding:8px;border-radius:6px;border:1px solid #d6d6d6;margin-top:6px}
  .btn{background:#0b62a6;color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;margin-top:12px}
  .btn.secondary{background:#eef4ff;color:#0b62a6}
  .inline{display:flex;gap:12px}
  .card{background:#fff;padding:12px;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,.08);margin-bottom:12px}
  .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px dashed #0b62a6;margin:4px}
  footer a{color:#fff;text-decoration:none;margin:0 6px;font-weight:bold;font-size:16px}
</style>
</head>
<body>
<div class="container">

<header>
  <div class="brand">
    <a href="#home"><img src="logo.jpeg" alt="UNCP Logo"></a>
    <div>
      <div style="font-weight:900;color:#083e6b">United Networks for Civil Protection</div>
      <div style="font-size:13px;color:#666">Community-Based Non-Profit • Company Limited by Guarantee (Uganda)</div>
    </div>
  </div>
  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#about">About</a></li>
      <li><a href="#what-we-do">What We Do</a></li>
      <li><a href="#where-we-work">Where We Work</a></li>
      <li><a href="#careersSection">Careers</a></li>
      <li><a href="#donate" class="donate">Donate</a></li>
    </ul>
  </nav>
</header>

<section id="home">
  <h1>United Networks for Civil Protection (UNCP)</h1>
  <p><strong>Type:</strong> Community-Based Organization</p>
  <p><strong>Incorporated:</strong> Company Limited by Guarantee, Uganda</p>
  <p>We protect and empower vulnerable children, youth and communities in refugee & host settings.</p>
</section>

<section id="about" class="accordion">
  <div class="accordion-item">
    <div class="accordion-header">About UNCP <span>+</span></div>
    <div class="accordion-body">
      <h3>Overview</h3>
      <p>United Networks for Civil Protection (UNCP)...</p>
      <h4>History</h4>
      <p>Founded in 2018 by child protection specialists...</p>
      <h4>Mission & Vision</h4>
      <p>Mission: ... Vision: ...</p>
    </div>
  </div>
</section>

<section id="careersSection">
  <h2>Open Positions</h2>
  <div id="jobList">
    <div class="job card">
      <strong>Child Protection Case Worker (Volunteer)</strong>
      <div>Arua City • 6 months • Application: 10 Sep 2025 – 24 Sep 2025</div>
      <div style="margin-top:8px">
        <button class="btn" onclick="showJD('Child Protection Case Worker (Volunteer)')">View JD</button>
        <button class="btn" onclick="startApplication('Child Protection Case Worker (Volunteer)')">Apply</button>
      </div>
    </div>
  </div>
</section>

<div id="jdModal" style="display:none;position:fixed;left:50%;top:6%;transform:translateX(-50%);max-width:900px;width:92%;background:#fff;padding:16px;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,.25);z-index:3000;">
  <div id="jdContent"></div>
  <div style="text-align:right;margin-top:12px"><button onclick="closeJD()" class="btn secondary">Close</button></div>
</div>

<section id="application" class="card" style="display:none;">
  <h2>Application Form</h2>
  <form id="careersForm">

    <input type="hidden" name="position_title" id="position_title" value="">

    <!-- Step 1: Personal Info -->
    <div class="form-step" data-step="1">
      <h3>Step 1 — Personal Information</h3>
      <label>Full Name *</label><input type="text" name="candidate_name" required>
      <label>Email *</label><input type="email" name="candidate_email" required>
      <label>Phone *</label><input type="tel" name="candidate_phone" required>
      <div class="btn-group"><button type="button" class="btn" onclick="goToStep(2)">Next</button></div>
    </div>

    <!-- Step 2: Work Experience -->
    <div class="form-step" data-step="2" style="display:none;">
      <h3>Step 2 — Work Experience</h3>
      <div id="workExpWrap">
        <div class="card">
          <label>Organization / Role</label><input type="text" name="work_org[]" required>
          <label>Duration</label><input type="text" name="work_duration[]" required>
        </div>
      </div>
      <button type="button" class="btn secondary" onclick="addWorkExp()">Add More</button>
      <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(1)">Back</button><button type="button" class="btn" onclick="goToStep(3)">Next</button></div>
    </div>

    <!-- Step 3: Education -->
    <div class="form-step" data-step="3" style="display:none;">
      <h3>Step 3 — Education</h3>
      <div id="eduWrap">
        <div class="card">
          <label>Institution / Degree</label><input type="text" name="edu[]" required>
        </div>
      </div>
      <button type="button" class="btn secondary" onclick="addEdu()">Add More</button>
      <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(2)">Back</button><button type="button" class="btn" onclick="goToStep(4)">Next</button></div>
    </div>

    <!-- Step 4: Certifications -->
    <div class="form-step" data-step="4" style="display:none;">
      <h3>Step 4 — Certifications (Optional)</h3>
      <div id="certWrap">
        <div class="card">
          <label>Certification</label><input type="text" name="cert[]">
        </div>
      </div>
      <button type="button" class="btn secondary" onclick="addCert()">Add More</button>
      <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(3)">Back</button><button type="button" class="btn" onclick="goToStep(5)">Next</button></div>
    </div>

    <!-- Step 5: Languages & Skills -->
    <div class="form-step" data-step="5" style="display:none;">
      <h3>Step 5 — Languages & Skills</h3>
      <div id="langWrap">
        <div class="card">
          <label>Language</label><input type="text" name="lang[]">
        </div>
      </div>
      <button type="button" class="btn secondary" onclick="addLang()">Add More</button>
      <label>Skills</label><textarea name="skills" maxlength="1500"></textarea>
      <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(4)">Back</button><button type="button" class="btn" onclick="goToStep(6)">Next</button></div>
    </div>

    <!-- Step 6: Application Questions -->
    <div class="form-step" data-step="6" style="display:none;">
      <h3>Step 6 — Application Questions</h3>
      <label>1. How have your achievements and operational experience to date prepared you for this position? *</label>
      <textarea name="q1" maxlength="2500" required oninput="updateCharCount('q1Count', this)"></textarea>
      <div id="q1Count" style="text-align:right;font-size:12px;color:#555;">0 / 2500</div>

      <label>2. Please describe any skills and competencies you have, and which may be of particular relevance to this position. *</label>
      <textarea name="q2" maxlength="2500" required oninput="updateCharCount('q2Count', this)"></textarea>
      <div id="q2Count" style="text-align:right;font-size:12px;color:#555;">0 / 2500</div>

      <label>3. How does this position align with your career aspirations? *</label>
      <textarea name="q3" maxlength="2500" required oninput="updateCharCount('q3Count', this)"></textarea>
      <div id="q3Count" style="text-align:right;font-size:12px;color:#555;">0 / 2500</div>

      <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(5)">Back</button><button type="button" class="btn" onclick="goToStep(7)">Next</button></div>
    </div>

    <!-- Step 7: Review & Submit -->
    <div class="form-step" data-step="7" style="display:none;">
      <h3>Step 7 — Review & Submit</h3>
      <p>Ensure all information is correct. Click submit to send your application.</p>
      <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(6)">Back</button><button type="submit" class="btn">Submit</button></div>
    </div>

  </form>
</section>

<footer style="text-align:center;margin-top:24px;padding:16px;background:#083e6b;color:#fff;border-radius:10px;">
  <div>© 2025 UNCP • All rights reserved</div>
  <div class="footer-socials" style="margin-top:8px">
    <a href="#" title="Facebook">F</a>
    <a href="#" title="Twitter">T</a>
    <a href="#" title="LinkedIn">L</a>
    <a href="#" title="Instagram">I</a>
  </div>
</footer>

</div>

<script>
emailjs.init("YOUR_EMAILJS_USER_ID"); // Replace with your EmailJS user ID

// Accordion
document.querySelectorAll('.accordion-header').forEach(header=>{
  header.addEventListener('click',()=>{
    const item = header.parentElement;
    item.classList.toggle('active');
    const body = header.nextElementSibling;
    if(item.classList.contains('active')){
      body.style.maxHeight = body.scrollHeight + "px";
    }else{
      body.style.maxHeight = null;
    }
  });
});

// Form step navigation
let currentStep=1;
function goToStep(step){
  document.querySelectorAll('.form-step').forEach(el=>el.style.display='none');
  document.querySelector(`.form-step[data-step="${step}"]`).style.display='block';
  currentStep=step;
}
goToStep(1);

// Show JD modal
function showJD(title){
  document.getElementById('jdContent').innerHTML = `<h3>${title}</h3><p>Job description details here...</p>`;
  document.getElementById('jdModal').style.display='block';
}
function closeJD(){document.getElementById('jdModal').style.display='none';}

// Start application
function startApplication(title){
  document.getElementById('position_title').value=title;
  document.getElementById('application').style.display='block';
  window.scrollTo({top:0,behavior:'smooth'});
}

// Dynamic add functions
function addWorkExp(){
  const wrap=document.getElementById('workExpWrap');
  const div=document.createElement('div');
  div.className='card';
  div.innerHTML=`<label>Organization / Role</label><input type="text" name="work_org[]" required>
                 <label>Duration</label><input type="text" name="work_duration[]" required>`;
  wrap.appendChild(div);
}
function addEdu(){
  const wrap=document.getElementById('eduWrap');
  const div=document.createElement('div');
  div.className='card';
  div.innerHTML=`<label>Institution / Degree</label><input type="text" name="edu[]" required>`;
  wrap.appendChild(div);
}
function addCert(){
  const wrap=document.getElementById('certWrap');
  const div=document.createElement('div');
  div.className='card';
  div.innerHTML=`<label>Certification</label><input type="text" name="cert[]">`;
  wrap.appendChild(div);
}
function addLang(){
  const wrap=document.getElementById('langWrap');
  const div=document.createElement('div');
  div.className='card';
  div.innerHTML=`<label>Language</label><input type="text" name="lang[]">`;
  wrap.appendChild(div);
}

// Character counter
function updateCharCount(counterId, textarea){
  const count=textarea.value.length;
  document.getElementById(counterId).textContent=`${count} / 2500`;
}

// Submit form with EmailJS
document.getElementById('careersForm').addEventListener('submit',function(e){
  e.preventDefault();
  emailjs.sendForm('YOUR_SERVICE_ID','YOUR_TEMPLATE_ID',this)
    .then(()=>{alert('Application submitted successfully!');this.reset();goToStep(1);document.getElementById('application').style.display='none';})
    .catch(err=>{alert('Failed to submit. '+err.text);});
});
</script>
</body>
</html>

