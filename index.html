<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UNCP Careers</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; }
header { background: #0d6efd; color: white; }
header .navbar-brand img { height: 60px; }
.btn-donate { background-color: orange; color: white; font-weight: bold; margin-left: 10px; }
.btn-donate:hover { background-color: #e69500; }
footer { background: #f1f1f1; padding: 20px 0; margin-top: 40px; }
footer .social-icons a { font-size: 20px; margin-right: 10px; color: #0d6efd; }
.search-box { display: inline-flex; align-items: center; }
.search-box input { display: none; margin-left: 5px; }
.search-box.active input { display: inline-block; }

/* Hero Section */
.hero {
  background: url('humanitarian-children.jpg') center/cover no-repeat;
  color: white;
  padding: 120px 20px;
  text-align: center;
}
.hero h1 { color: orange; font-size: 3rem; font-weight: bold; }

/* Careers hidden by default */
.careers-section { display:none; }

/* Multi-step form */
#multiStepForm fieldset { display:none; opacity:0; transition:opacity 0.5s; border: none; }
#multiStepForm fieldset.active { display:block; opacity:1; }
#multiStepForm input, #multiStepForm select, #multiStepForm textarea { width:100%; margin-bottom:10px; padding:8px; }
#multiStepForm button { margin-top:10px; }
#progressContainer { width:100%; background:#e0e0e0; margin-bottom:20px; border-radius:4px; }
#progressBar { height:8px; background:#007bff; width:0%; border-radius:4px; transition:width 0.5s; }
</style>
</head>
<body>

<!-- Header -->
<header>
<nav class="navbar navbar-expand-lg navbar-dark container">
<a class="navbar-brand" href="#"><img src="logo.jpeg" alt="UNCP Logo"></a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav me-auto mb-2 mb-lg-0">
  <li class="nav-item"><a class="nav-link" href="#">Home</a></li>
  <li class="nav-item"><a class="btn btn-donate" href="mailto:uncip2019@gmail.com?subject=Donation to UNCP">Donate</a></li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">About UNCP</a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#" onclick="toggleOverview()">Overview</a></li>
      <li><a class="dropdown-item" href="#">Planning & Results</a></li>
      <li><a class="dropdown-item" href="#">Our Partners</a></li>
    </ul>
  </li>
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Get Involved</a>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="#" onclick="toggleCareers()">Careers / Open Positions</a></li>
    </ul>
  </li>
</ul>
<div class="d-flex align-items-center">
<div class="search-box">
<i class="bi bi-search" id="searchIcon"></i>
<input type="text" class="form-control form-control-sm" placeholder="Search...">
</div>
</div>
</div>
</nav>
</header>

<!-- Hero -->
<section class="hero">
<h1>Welcome to United Networks for Civil Protection (UNCP)</h1>
<p>We protect and empower vulnerable children, youth, and communities in Uganda through holistic, community-led programs.</p>
</section>

<!-- Overview Section -->
<section id="overview" class="container mt-4" style="display:none;">
<h2>Overview</h2>
<p><strong>1.1. Brief History of UNCP:</strong> Founded in 2018 by child protection specialists in West Nile, Uganda, providing community-led protection solutions beyond short-term emergency interventions. Founders continue to serve in the child protection sector and lead UNCP's growth as a formally registered organization.</p>
<p><strong>Mission:</strong> Protect and empower vulnerable children, youth, and communities through rights-based, locally led programs.</p>
<p><strong>Vision:</strong> A safe, inclusive, and resilient society where every child and vulnerable person can thrive with dignity and equal opportunity.</p>
</section>

<!-- Careers Section -->
<section id="careers" class="careers-section container mt-4">
<h2>Open Positions</h2>
<p>Click on a job to view details and apply.</p>
<div class="job-card">
<h3>Child Protection Case Worker (Volunteer)</h3>
<p><strong>Duty Station:</strong> Arua City</p>
<p><strong>Duration:</strong> 6 months</p>
<button class="apply-btn" onclick="showApplicationForm()">Apply Now</button>
<a href="UNCP_ChildProtectionJD.pdf" download class="btn btn-secondary btn-sm">Download JD</a>
</div>
</section>

<!-- Multi-Step Application Form -->
<section id="applicationForm" class="container mt-4" style="display:none;">
<h2>Application Form</h2>
<div id="progressContainer"><div id="progressBar"></div></div>
<form id="multiStepForm">
<!-- Step 1: My Information -->
<fieldset class="active">
<legend>My Information</legend>
<label>How Did You Hear About Us?</label>
<select name="source" required>
<option value="">Select</option>
<option>Job Board</option>
<option>Social Media</option>
<option>UNCP website career page</option>
<option>Others</option>
</select>
<label>Previously worked at UNCP?</label>
<select name="prevUNCP" required>
<option value="">Select</option>
<option>Yes</option>
<option>No</option>
</select>
<label>Full Name*</label><input type="text" name="fullName" required>
<label>Current Address</label><input type="text" name="address">
<label>Email*</label><input type="email" name="email" required>
<label>Phone Number</label><input type="tel" name="phone">
</fieldset>

<!-- Step 2: Work Experience -->
<fieldset>
<legend>Work Experience</legend>
<p>List your work experience. Add multiple entries if needed.</p>
<label>Job Title*</label><input type="text" name="jobTitle1" required>
<label>Company*</label><input type="text" name="company1" required>
<label>Location*</label><input type="text" name="location1" placeholder="City, Country" required>
<label>Currently Work Here?</label>
<select name="currently1">
<option value="No">No</option>
<option value="Yes">Yes</option>
</select>
<label>From*</label><input type="month" name="from1" required>
<label>To*</label><input type="month" name="to1">
<label>Role Description (max 2500 chars)</label><textarea name="roleDesc1" maxlength="2500"></textarea>
</fieldset>

<!-- Step 3: Education -->
<fieldset>
<legend>Education</legend>
<label>School or University*</label><input type="text" name="school1" required>
<label>Degree / Award*</label><input type="text" name="degree1" required>
<label>Field of Study</label><input type="text" name="field1">
<label>From*</label><input type="month" name="eduFrom1" required>
<label>To*</label><input type="month" name="eduTo1" required>
</fieldset>

<!-- Step 4: Languages -->
<fieldset>
<legend>Languages</legend>
<label>Language*</label><input type="text" name="lang1" required>
<label>Fluent?</label><input type="checkbox" name="fluent1">
<label>Overall Level*</label>
<select name="level1" required>
<option value="">Select</option>
<option>Mother Tongue</option>
<option>A1</option>
<option>A2</option>
<option>B1</option>
<option>B2</option>
<option>C1</option>
<option>C2</option>
</select>
</fieldset>

<!-- Step 5: Skills -->
<fieldset>
<legend>Skills</legend>
<label>List your skills (comma separated)</label>
<input type="text" name="skills">
</fieldset>

<!-- Step 6: Application Questions -->
<fieldset>
<legend>Application Questions</legend>
<label>How have your achievements and operational experience prepared you for this position?*</label>
<textarea name="q1" maxlength="2500" required></textarea>
<label>Please describe any skills and competencies relevant to this position.*</label>
<textarea name="q2" maxlength="2500" required></textarea>
<label>How does this position align with your career aspirations?*</label>
<textarea name="q3" maxlength="1000" required></textarea>
</fieldset>

<!-- Step 7: Disclosures -->
<fieldset>
<legend>Disclosures / Personal Data</legend>
<label>Date of Birth*</label><input type="date" name="dob" required>
<label>Marital Status*</label>
<select name="marital" required>
<option value="">Select</option>
<option>Single</option>
<option>Married</option>
<option>Divorced</option>
<option>Widowed</option>
<option>Legally Separated</option>
<option>Registered Partnership</option>
<option>Other</option>
</select>
<label>Primary Nationality*</label><input type="text" name="nationality" required>
<label>Disability?</label>
<select name="disability">
<option>No</option>
<option>Yes</option>
</select>
<label>Sex*</label>
<select name="sex" required>
<option value="">Select</option>
<option>Female</option>
<option>Male</option>
<option>Not Declared</option>
</select>
<label><input type="checkbox" name="consent" required> I acknowledge and agree to terms and conditions.</label>
</fieldset>

<!-- Step 8: Review & Submit -->
<fieldset>
<legend>Review & Submit</legend>
<p>Click Submit to send your application. You will receive acknowledgment via email.</p>
</fieldset>

<button type="button" id="prevBtn" onclick="nextPrev(-1)">Back</button>
<button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
<button type="submit" id="submitBtn" style="display:none;">Submit</button>
</form>
</section>

<!-- Footer -->
<footer id="contact" class="mt-4">
<div class="container d-flex justify-content-between align-items-center">
<div>
<img src="logo.jpeg" alt="UNCP Logo" style="height:50px;"><br>
<strong>Email:</strong> uncip2019@gmail.com<br>
<strong>Telephone:</strong> +256702398687 / +256779576538<br>
<strong>Address:</strong> P.O. Box 341054, Arua City, Uganda
</div>
<div class="social-icons">
<a href="#"><i class="bi bi-facebook"></i></a>
<a href="#"><i class="bi bi-twitter-x"></i></a>
<a href="#"><i class="bi bi-instagram"></i></a>
<a href="#"><i class="bi bi-youtube"></i></a>
<a href="#"><i class="bi bi-tiktok"></i></a>
<a href="#"><i class="bi bi-linkedin"></i></a>
</div>
</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
// Search box toggle
document.getElementById('searchIcon').addEventListener('click', ()=> {
document.querySelector('.search-box').classList.toggle('active');
});

// Show/hide sections
function toggleOverview(){ document.getElementById('overview').style.display=document.getElementById('overview').style.display==='none'?'block':'none'; }
function toggleCareers(){ document.getElementById('careers').style.display=document.getElementById('careers').style.display==='none'?'block':'none'; }
function showApplicationForm(){ document.getElementById('applicationForm').style.display='block'; window.scrollTo({top:document.getElementById('applicationForm').offsetTop,behavior:'smooth'}); }

// Multi-step form logic
let currentStep=0;
const fieldsets=document.querySelectorAll("#multiStepForm fieldset");
const prevBtn=document.getElementById("prevBtn");
const nextBtn=document.getElementById("nextBtn");
const submitBtn=document.getElementById("submitBtn");
const progressBar=document.getElementById("progressBar");

function showStep(n){
  fieldsets.forEach((fs,i)=>fs.classList.remove("active"));
  fieldsets[n].classList.add("active");
  prevBtn.style.display=n===0?"none":"inline-block";
  nextBtn.style.display=n===fieldsets.length-1?"none":"inline-block";
  submitBtn.style.display=n===fieldsets.length-1?"inline-block":"none";
  progressBar.style.width=((n+1)/fieldsets.length*100)+"%";
}
showStep(currentStep);

function nextPrev(n){
  if(n===1 && !validateStep()) return;
  currentStep+=n;
  if(currentStep>=fieldsets.length) return;
  showStep(currentStep);
}

function validateStep(){
  let valid=true;
  const inputs=fieldsets[currentStep].querySelectorAll("input, select, textarea");
  inputs.forEach(input=>{
    if(input.hasAttribute("required") && !input.value){
      input.style.border="1px solid red";
      valid=false;
    } else input.style.border="";
  });
  return valid;
}

// Form submit with PDF
document.getElementById("multiStepForm").addEventListener("submit", async function(e){
  e.preventDefault();
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  let y=10;
  const data = new FormData(this);
  data.forEach((value,key)=>{
    doc.text(`${key}: ${value}`,10,y); y+=10; if(y>280){doc.addPage();y=10;}
  });
  const pdfBlob = doc.output('blob');
  const formData=new FormData();
  formData.append('pdf', pdfBlob, 'UNCP_Application.pdf');
  formData.append('candidateEmail', data.get('email'));
  try{
    const response=await fetch('send_application.php',{method:'POST', body:formData});
    const result=await response.json();
    if(result.status==="success"){
      alert("Application submitted successfully! Check your email for acknowledgment.");
      this.reset(); currentStep=0; showStep(currentStep);
    } else alert("Error: "+result.message);
  } catch(err){ alert("Submission failed: "+err); }
});
</script>
</body>
</html>
