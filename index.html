<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>United Networks for Civil Protection (UNCP)</title>
<link rel="icon" href="logo.jpeg">

<!-- JS for EmailJS and jsPDF -->
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>

<style>
/* ===== GENERAL ===== */
body {font-family: 'Arial', Helvetica, sans-serif; margin:0; background:#f4f6f9; color:#222;}
a {text-decoration:none;}
.container {max-width:1100px; margin:18px auto; padding:0 16px;}

/* ===== HEADER ===== */
header {display:flex; align-items:center; justify-content:space-between; padding:12px; background:#fff; border-bottom:1px solid #e6eefc; position:sticky; top:0; z-index:1000;}
.brand {display:flex; align-items:center; gap:16px;}
.brand img {height:100px; transition: transform 0.3s, box-shadow 0.3s; cursor:pointer;}
.brand img:hover {transform: scale(1.05) rotate(-1deg); box-shadow:0 6px 18px rgba(0,0,0,0.25);}
nav ul {display:flex; gap:12px; list-style:none; margin:0; padding:0; align-items:center;}
.donate {background:#ff7f00; color:#fff; padding:10px 16px; border-radius:8px; font-weight:700; transition: transform 0.3s; animation: pulseGlow 2s infinite;}
.donate:hover {transform: scale(1.1);}
@keyframes pulseGlow {0% { box-shadow:0 0 6px #ff7f00,0 0 10px #ff7f00; }50% { box-shadow:0 0 12px #ff9f50,0 0 20px #ff9f50; }100% { box-shadow:0 0 6px #ff7f00,0 0 10px #ff7f00; }}

/* ===== HOME SECTION ===== */
#home {background: linear-gradient(135deg,#f0f6ff,#e6f0ff); position:relative; overflow:hidden; border-radius:10px; padding:60px 16px; text-align:center; margin-bottom:24px;}
#home::before {content:''; position:absolute; top:-50px; left:-50px; width:300px; height:300px; background: radial-gradient(circle, rgba(255,127,0,0.15), transparent 70%); border-radius:50%; z-index:0;}
#home::after {content:''; position:absolute; bottom:-80px; right:-80px; width:400px; height:400px; background: radial-gradient(circle, rgba(11,98,166,0.15), transparent 70%); border-radius:50%; z-index:0;}
.info-card {position:relative; z-index:1; background:#fff; margin:12px auto; padding:24px; border-radius:12px; max-width:800px; opacity:0; transform:translateY(30px); transition: transform 0.6s ease-out, opacity 0.6s ease-out;}
.info-card.visible {opacity:1; transform:translateY(0);}
.chip {display:inline-block; padding:6px 10px; border-radius:999px; border:1px dashed #0b62a6; margin:4px;}

/* ===== FOOTER ===== */
footer {margin-top:24px; padding:32px; background:linear-gradient(135deg,#083e6b,#0b62a6); color:#fff; border-radius:12px; box-shadow:0 4px 16px rgba(0,0,0,0.2);}
footer .footer-content {display:flex; flex-wrap:wrap; gap:24px; justify-content:space-between; align-items:flex-start;}
footer img {height:60px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); transition: transform 0.3s;}
footer img:hover {transform: scale(1.05);}
footer .socials a {display:inline-block; width:36px; height:36px; line-height:36px; text-align:center; border-radius:50%; margin-right:8px; font-weight:bold; color:#fff; background:linear-gradient(45deg,#ff7f00,#0b62a6); transition: transform 0.3s, background 0.5s;}
footer .socials a:hover {transform: scale(1.2) rotate(10deg); background:linear-gradient(45deg,#ff9f50,#1461b0);}

/* ===== CAREERS & FORM ===== */
section h2 {color:#083e6b;}
.card {background:#fff; margin-bottom:18px; padding:16px; border-radius:12px; box-shadow:0 2px 10px rgba(0,0,0,0.05);}
input, select, textarea {width:100%; padding:8px; margin-top:6px; border-radius:6px; border:1px solid #d6d6d6;}
.btn {background:#0b62a6; color:#fff; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; margin-top:12px;}
.btn.secondary {background:#eef4ff; color:#0b62a6;}
.inline {display:flex; gap:12px;}
.form-step {display:none;}
</style>
</head>
<body>

<div class="container">

  <!-- HEADER -->
  <header>
    <div class="brand"><a href="#home"><img src="logo.jpeg" alt="UNCP Logo"></a></div>
    <nav>
      <ul>
        <li><a href="#careersSection">Careers</a></li>
        <li><a href="#donate" class="donate">Donate</a></li>
      </ul>
    </nav>
  </header>

  <!-- HOME SECTION -->
  <section id="home">
    <div class="info-card">
      <h1>United Networks for Civil Protection (UNCP)</h1>
      <p><strong>Type:</strong> Community-Based Organization</p>
      <p><strong>Incorporated:</strong> Company Limited by Guarantee, Uganda</p>
      <p>We protect and empower vulnerable children, youth, and communities in refugee & host settings.</p>
    </div>
  </section>

  <!-- CAREERS SECTION -->
  <section id="careersSection" class="card">
    <h2>Open Positions</h2>
    <input id="jobSearch" placeholder="Filter positions..." style="width:100%; padding:10px; border-radius:8px; border:1px solid #ddd; margin-bottom:12px">
    <div id="jobList">
      <div class="job card" data-deadline="2025-09-24" style="padding:12px; margin-bottom:12px; border-left:4px solid #083e6b;">
        <strong>Child Protection Case Worker (Volunteer)</strong>
        <div style="margin-top:6px; color:#444">Arua City • 6 months • Application: 10 Sep 2025 – 24 Sep 2025</div>
        <div style="margin-top:8px">
          <button class="btn" onclick="showJD('Child Protection Case Worker (Volunteer)')">View JD</button>
          <button class="btn" onclick="startApplication('Child Protection Case Worker (Volunteer)','2025-09-24')">Apply</button>
        </div>
      </div>
    </div>
  </section>

  <!-- JOB DESCRIPTION MODAL -->
  <div id="jdModal" style="display:none;position:fixed;left:50%;top:6%;transform:translateX(-50%);max-width:900px;width:92%;background:#fff;padding:16px;border-radius:10px;box-shadow:0 20px 60px rgba(0,0,0,.25);z-index:3000;">
    <div id="jdContent"></div>
    <div style="text-align:right;margin-top:12px"><button onclick="closeJD()" class="btn secondary">Close</button></div>
  </div>

  <!-- APPLICATION FORM (HIDDEN BY DEFAULT) -->
  <section id="application" class="card" style="padding:16px; display:none;">
    <h2>Application Form</h2>
    <form id="careersForm">
      <input type="hidden" name="position_title" id="position_title" value="">

      <!-- STEP 1 → PERSONAL INFO -->
      <div class="form-step" data-step="1">
        <h3>Step 1 — Personal Information</h3>
        <label>How Did You Hear About Us? *</label>
        <select name="how_hear" required>
          <option value="">--Select--</option>
          <option>Job Board</option><option>Event</option><option>Social Media</option><option>UNCP Website</option><option>Other</option>
        </select>
        <label>Have you previously worked for UNCP? *</label>
        <div class="inline">
          <label><input type="radio" name="worked_uncp" value="Yes" required> Yes</label>
          <label><input type="radio" name="worked_uncp" value="No" required> No</label>
        </div>
        <label>Full Name *</label><input type="text" name="candidate_name" required>
        <label>Address</label><input type="text" name="candidate_address">
        <label>Email *</label><input type="email" name="candidate_email" required>
        <label>Phone *</label><input type="tel" name="candidate_phone" required>
        <div class="btn-group" style="margin-top:14px">
          <button type="button" class="btn secondary" onclick="saveDraft()">Save Draft</button>
          <button type="button" class="btn" onclick="goToStep(2)">Next</button>
        </div>
      </div>

      <!-- STEP 2 → WORK EXPERIENCE (Dynamic add) -->
      <div class="form-step" data-step="2">
        <h3>Step 2 — Work Experience</h3>
        <div id="workExpWrap">
          <div class="workExp card" data-index="1" style="padding:12px;margin-bottom:10px">
            <label>Job Title *</label><input type="text" name="job_title_1" required>
            <label>Company *</label><input type="text" name="company_1" required>
            <label>Location</label><input type="text" name="location_1">
            <label><input type="checkbox" name="current_1"> I currently work here</label>
            <div class="inline">
              <div><label>From</label><input type="date" name="from_1"></div>
              <div><label>To</label><input type="date" name="to_1"></div>
            </div>
            <label>Role Description</label><textarea name="role_desc_1" maxlength="1500"></textarea>
          </div>
        </div>
        <button type="button" class="btn secondary" onclick="addWorkExp()">Add More</button>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(1)">Back</button><button type="button" class="btn" onclick="goToStep(3)">Next</button></div>
      </div>

      <!-- STEP 3 → EDUCATION -->
      <div class="form-step" data-step="3">
        <h3>Step 3 — Education</h3>
        <div id="eduWrap">
          <div class="edu card" data-index="1" style="padding:12px;margin-bottom:10px">
            <label>School / University *</label><input type="text" name="school_1" required>
            <label>Degree *</label><input type="text" name="degree_1" required>
            <label>Field of Study</label><input type="text" name="field_1">
            <div class="inline"><div><label>From</label><input type="date" name="edu_from_1"></div><div><label>To</label><input type="date" name="edu_to_1"></div></div>
          </div>
        </div>
        <button type="button" class="btn secondary" onclick="addEdu()">Add More</button>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(2)">Back</button><button type="button" class="btn" onclick="goToStep(4)">Next</button></div>
      </div>

      <!-- STEP 4 → CERTIFICATIONS -->
      <div class="form-step" data-step="4">
        <h3>Step 4 — Certifications (Optional)</h3>
        <div id="certWrap">
          <div class="cert card" data-index="1" style="padding:12px;margin-bottom:10px">
            <label>Certification Name</label><input type="text" name="cert_name_1">
            <label>Certification Number</label><input type="text" name="cert_no_1">
            <label>Issued Date</label><input type="date" name="cert_date_1">
            <label>Attachment</label><input type="file" name="cert_file_1">
          </div>
        </div>
        <button type="button" class="btn secondary" onclick="addCert()">Add More</button>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(3)">Back</button><button type="button" class="btn" onclick="goToStep(5)">Next</button></div>
      </div>

      <!-- STEP 5 → LANGUAGES & SKILLS -->
      <div class="form-step" data-step="5">
        <h3>Step 5 — Languages & Skills</h3>
        <div id="langWrap">
          <div class="lang card" data-index="1" style="padding:12px;margin-bottom:10px">
            <label>Language *</label>
            <select name="lang_1" required>
              <option value="">--Select--</option>
              <option>Lugbarati</option><option>Alur</option><option>Kakwa</option><option>Ma’di</option><option>Luganda</option><option>English</option><option>Other</option>
            </select>
            <label><input type="checkbox" name="fluent_1"> I am fluent</label>
            <label>Overall (A1–C2 / Mother Tongue) *</label>
            <select name="level_1" required>
              <option value="">--Select--</option><option>A1</option><option>A2</option><option>B1</option><option>B2</option><option>C1</option><option>C2</option><option>Mother Tongue</option>
            </select>
          </div>
        </div>
        <button type="button" class="btn secondary" onclick="addLang()">Add More</button>
        <label>Skills (max 1500 chars)</label><textarea name="skills" maxlength="1500"></textarea>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(4)">Back</button><button type="button" class="btn" onclick="goToStep(6)">Next</button></div>
      </div>

      <!-- STEP 6 → APPLICATION QUESTIONS -->
      <div class="form-step" data-step="6">
        <h3>Step 6 — Application Questions</h3>
        <label>a) How have your achievements and operational experience prepared you for this position? *</label>
        <textarea name="q1" maxlength="2500" required></textarea>
        <label>b) Describe skills & competencies relevant to this position *</label>
        <textarea name="q2" maxlength="2500" required></textarea>
        <label>c) How does this position align with your career aspirations? *</label>
        <textarea name="q3" maxlength="1000" required></textarea>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(5)">Back</button><button type="button" class="btn" onclick="goToStep(7)">Next</button></div>
      </div>

      <!-- STEP 7 → REFERENCES -->
      <div class="form-step" data-step="7">
        <h3>Step 7 — References</h3>
        <div id="refsWrap">
          <div class="ref card" data-index="1" style="padding:12px;margin-bottom:10px">
            <label>Reference Name *</label><input type="text" name="ref_name_1" required>
            <label>Organization / Address *</label><input type="text" name="ref_org_1" required>
            <label>Position *</label><input type="text" name="ref_position_1" required>
            <label>Relationship *</label><input type="text" name="ref_relationship_1" required>
            <label>Email *</label><input type="email" name="ref_email_1" required>
            <label>Telephone *</label><input type="tel" name="ref_phone_1" required>
            <label>Notes</label><textarea name="ref_notes_1"></textarea>
          </div>
        </div>
        <button type="button" class="btn secondary" onclick="addRef()">Add More Reference</button>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(6)">Back</button><button type="button" class="btn" onclick="goToStep(8)">Next</button></div>
      </div>

      <!-- STEP 8 → TERMS & DISCLOSURES -->
      <div class="form-step" data-step="8">
        <h3>Step 8 — Voluntary Disclosures & Terms</h3>
        <label>Date of Birth *</label><input type="date" name="dob" required>
        <label>Marital Status *</label>
        <select name="marital" required><option value="">--Select--</option><option>Single</option><option>Married</option><option>Separated</option><option>Divorced</option><option>Registered partnership</option><option>Other</option></select>
        <label>Disability</label><select name="disability"><option>No</option><option>Yes</option></select>
        <label>Sex *</label><select name="sex" required><option value="">--Select--</option><option>Female</option><option>Male</option><option>Not declared</option></select>
        <div style="margin-top:12px;padding:12px;border:1px solid #e6eefc;border-radius:8px">
          <p><strong>Terms:</strong> UNCP will only contact shortlisted candidates. False information may lead to disqualification.</p>
          <label><input type="checkbox" name="agree_terms" required> I agree to these terms *</label>
        </div>
        <div class="btn-group"><button type="button" class="btn secondary" onclick="goToStep(7)">Back</button><button type="button" class="btn" onclick="reviewAndSubmit()">Review & Submit</button></div>
      </div>

    </form>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="footer-content">
      <div><img src="logo.jpeg" alt="UNCP"></div>
      <div>
        <p><strong>Contact</strong></p>
        <p>Email: <a href="mailto:uncip2019@gmail.com" style="color:#fff;">uncip2019@gmail.com</a><br>Tel: +256 702 398687 / +256 779 576538</p>
      </div>
      <div>
        <p><strong>Follow</strong></p>
        <div class="socials">
          <a href="#" title="Facebook">F</a>
          <a href="#" title="Twitter">T</a>
          <a href="#" title="Instagram">I</a>
          <a href="#" title="YouTube">Y</a>
        </div>
      </div>
    </div>
  </footer>
</div>

<!-- ===== JS ===== -->
<script>
// Accordion & job search
(function(){
  const today = new Date();
  document.querySelectorAll('#jobList .job').forEach(job=>{
    const d = job.dataset.deadline;
    if(d && new Date(d+'T23:59:59') < today) job.style.display='none';
  });
  document.getElementById('jobSearch').addEventListener('input', function(){
    const q = this.value.toLowerCase();
    document.querySelectorAll('#jobList .job').forEach(job=>{
      const title = job.querySelector('strong').innerText.toLowerCase();
      job.style.display = title.includes(q)?'':'none';
    });
  });
})();

// INFO CARD animation
window.addEventListener('load', ()=>{document.querySelector('.info-card').classList.add('visible');});

// JOB DESCRIPTION
const jobDescriptions = {
  "Child Protection Case Worker (Volunteer)": `<h3>Child Protection Case Worker (Volunteer)</h3>
  <p>Provide support to children at risk, case management, PSS, and community engagement.</p>
  <h4>Responsibilities</h4><ul><li>Case intake & management</li><li>PSS & referrals</li><li>Community awareness</li></ul>
  <h4>Qualifications</h4><p>Degree/diploma in Social Work, Psychology or related field; prior experience advantageous.</p>`
};
function showJD(title){document.getElementById('jdContent').innerHTML = jobDescriptions[title]||'<p>JD not found.</p>'; document.getElementById('jdModal').style.display='block';}
function closeJD(){document.getElementById('jdModal').style.display='none
