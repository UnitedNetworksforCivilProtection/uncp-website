<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>United Networks for Civil Protection (UNCP)</title>
<link rel="icon" href="logo.jpeg">
<style>
  :root{--blue:#004080;--blue2:#0066cc;--orange:#ff7f00;--gray:#f0f0f0;--muted:#666;}
  *{box-sizing:border-box}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;color:#111;background:#fff;line-height:1.45}
  a{color:inherit}
  .container{max-width:1100px;margin:0 auto;padding:0 16px}

  /* Header */
  header{background:var(--blue);color:#fff;position:sticky;top:0;z-index:1200}
  .header-inner{display:flex;align-items:center;justify-content:space-between;padding:10px 0}
  .brand{display:flex;align-items:center;gap:12px}
  .brand img{height:80px;border-radius:8px}
  nav ul{list-style:none;margin:0;padding:0;display:flex;gap:8px;align-items:center}
  nav li{position:relative}
  nav a{color:#fff;padding:8px 10px;display:block;font-weight:600;border-radius:6px}
  nav li:hover > a{background:rgba(255,255,255,.08)}
  nav li ul{display:none;position:absolute;top:100%;left:0;background:var(--blue);min-width:210px;border-radius:8px;padding:6px;margin-top:6px;box-shadow:0 8px 20px rgba(0,0,0,.2)}
  nav li:hover ul{display:block}
  nav li ul li a{padding:8px 10px}
  .header-actions{display:flex;align-items:center;gap:10px}
  .btn-donate{background:var(--orange);border:none;color:#fff;padding:8px 12px;border-radius:8px;font-weight:700;cursor:pointer}
  .search-wrap{position:relative;height:40px}
  #searchInput{width:0;padding:8px;border-radius:8px;border:none;transition:width .28s ease;outline:none}
  #searchBtn{position:absolute;right:0;top:0;background:transparent;border:none;color:#fff;font-size:18px;padding:8px;cursor:pointer}

  /* Hero */
  .hero{background:linear-gradient(180deg,#eaf4ff,#fff);padding:26px 0;border-bottom:1px solid #e6eefc}
  .hero h1{color:var(--blue);margin:0 0 6px}
  .muted{color:var(--muted)}

  /* Sections */
  section{padding:28px 0}
  h2{color:var(--blue);margin:0 0 12px}
  .card{background:#fff;border-radius:10px;padding:16px;border:1px solid #eee;box-shadow:0 2px 8px rgba(0,0,0,.03)}
  .grid{display:grid;gap:16px}
  .grid-2{grid-template-columns:1fr 1fr}
  .chips{display:flex;flex-wrap:wrap;gap:8px}

  .chip{border:1px dashed var(--blue);padding:6px 10px;border-radius:999px;font-size:.95rem;background:#fff}

  /* Jobs */
  #jobSearch{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd;margin:8px 0 16px}
  #jobList{list-style:none;padding:0;margin:0}
  .job{display:flex;justify-content:space-between;align-items:center;gap:12px;background:#fff;padding:14px;border-radius:10px;border-left:4px solid var(--blue);margin-bottom:12px}
  .job .meta{color:#333;font-size:.95rem}
  .job .actions button{margin-left:6px;padding:8px 10px;border-radius:8px;border:none;cursor:pointer}
  .btn-view{background:var(--blue);color:#fff}
  .btn-apply{background:var(--blue2);color:#fff}

  /* JD modal */
  #jdModal{display:none;position:fixed;top:6%;left:50%;transform:translateX(-50%);width:92%;max-width:820px;max-height:80vh;overflow:auto;background:#fff;border-radius:12px;border:2px solid var(--blue);z-index:2000;box-shadow:0 18px 36px rgba(0,0,0,.25)}
  #jdModal header{padding:12px 16px;border-bottom:1px solid #eee;background:#fff;position:sticky;top:0}
  #jdModal .content{padding:16px}

  /* Form multi-step */
  .form-wrap{max-width:980px;margin:10px auto}
  .step{display:none;background:#fff;padding:18px;border-radius:12px;border:1px solid #eee;margin-bottom:14px}
  .step.active{display:block}
  .step h3{color:var(--blue);margin-top:0}
  label{display:block;margin-top:10px;font-weight:700}
  input,select,textarea{width:100%;padding:10px;margin-top:6px;border:1px solid #d1d1d1;border-radius:8px;outline:none}
  textarea{resize:vertical}
  .inline{display:flex;gap:12px}
  .inline > *{flex:1}
  .small{width:48%}
  .nav-buttons{display:flex;justify-content:flex-end;gap:10px;margin-top:12px}
  .nav-buttons .btn{padding:8px 12px;border-radius:8px;border:none;cursor:pointer;background:var(--blue);color:#fff}
  .nav-buttons .btn.secondary{background:#eef3ff;color:var(--blue);font-weight:700}
  .add-more{margin-top:10px;background:#f7f7f7;border:1px dashed #ccc;padding:8px;border-radius:8px;cursor:pointer}

  /* Review box */
  .review{background:#fafafa;border:1px solid #eee;padding:12px;border-radius:8px}

  /* Footer */
  footer{background:#f4f6f9;padding:22px 0;color:#222}
  .footer-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;align-items:start}
  .social a{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:999px;border:1px solid #d0d8ea;margin-right:6px;color:var(--blue)}
  .legal-list a{display:block;color:var(--blue);margin:6px 0}

  /* Back to top */
  #backToTopBtn{display:none;position:fixed;right:24px;bottom:24px;background:var(--blue);color:#fff;border:none;padding:10px 14px;border-radius:10px;cursor:pointer;z-index:3000}
  #backToTopBtn:hover{background:var(--blue2)}

  /* Responsive */
  @media(max-width:900px){.grid-2{grid-template-columns:1fr}.header-inner{padding:10px}.brand img{height:70px}.footer-grid{grid-template-columns:1fr}.nav-buttons{flex-direction:column;align-items:stretch}}
</style>
</head>
<body>
<div class="container">

  <!-- HEADER -->
  <header>
    <div class="header-inner container" style="align-items:center;">
      <div class="brand">
        <a href="#home"><img src="logo.jpeg" alt="UNCP Logo" /></a>
        <div style="color:#fff">
          <strong style="font-size:1.05rem">United Networks for Civil Protection</strong><br>
          <span style="font-size:.9rem;opacity:.95">Community-Based Non-Profit Organization</span>
        </div>
      </div>

      <nav aria-label="Main">
        <ul>
          <li><a href="#home">Home</a></li>
          <li>
            <a href="#about">About UNCP</a>
            <ul>
              <li><a href="#overview">Overview</a></li>
              <li><a href="#planning">Planning, Funding & Results</a></li>
              <li><a href="#partners">Our Partners</a></li>
              <li><a href="#governance">Governance & Oversight</a></li>
            </ul>
          </li>
          <li>
            <a href="#what-we-do">What We Do</a>
            <ul>
              <li><a href="#what-we-do">Child Protection</a></li>
              <li><a href="#what-we-do">GBV Prevention</a></li>
              <li><a href="#what-we-do">MHPSS</a></li>
              <li><a href="#what-we-do">Adolescent & Youth Empowerment</a></li>
            </ul>
          </li>
          <li>
            <a href="#">More</a>
            <ul>
              <li><a href="#where-we-work">Where We Work</a></li>
              <li><a href="#news">News & Stories</a></li>
              <li>
                <a href="#">Get Involved</a>
                <ul>
                  <li><a href="#careersSection">Careers ‚Äì View Open Positions</a></li>
                  <li><a href="#partners">Our Partners / Donors</a></li>
                  <li><a href="#suppliers">Become a Supplier</a></li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </nav>

      <div class="header-actions" style="align-items:center;">
        <button class="btn-donate" onclick="location.href='#donate'">Donate</button>
        <div class="search-wrap" style="margin-left:8px;">
          <input id="searchInput" type="text" placeholder="Search...">
          <button id="searchBtn" aria-label="Search">üîç</button>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO / HOME -->
  <section id="home" class="hero">
    <div class="container">
      <h1>Protect ‚Ä¢ Empower ‚Ä¢ Resilience</h1>
      <p class="muted">United Networks for Civil Protection (UNCP) is a community-based non-profit organization, incorporated as a <strong>Company Limited by Guarantee</strong> in Uganda. We deliver community-led protection, psychosocial support, youth empowerment, inclusive education and climate-resilient livelihoods in refugee and host communities.</p>
    </div>
  </section>

  <!-- ABOUT & WHAT WE DO -->
  <section id="about">
    <div class="container grid grid-2">
      <div class="card">
        <h2 id="overview">About UNCP</h2>
        <p><strong>Name:</strong> United Networks for Civil Protection (UNCP)<br>
           <strong>Type:</strong> Community-Based Non-Profit Organization<br>
           <strong>Founded:</strong> 2018 ‚Ä¢ <strong>Head Office:</strong> P.O. Box 341054, Arua City, Uganda</p>
        <p>UNCP was founded by child protection specialists to provide sustained community-led protection and empowerment beyond short-term emergency interventions. We work with vulnerable children, youth and communities in refugee and host settings.</p>
        <p><strong>Mission:</strong> To protect and empower vulnerable children, youth, and communities through rights-based, locally led programs.</p>
        <p><strong>Vision:</strong> A safe, inclusive and resilient society where every child and vulnerable person can thrive.</p>
      </div>

      <div class="card" id="what-we-do">
        <h2>What We Do</h2>
        <ul>
          <li>Child Protection</li>
          <li>Gender-Based Violence (GBV) Prevention</li>
          <li>Mental Health & Psychosocial Support (MHPSS)</li>
          <li>Adolescent & Youth Empowerment</li>
          <li>Climate Change Adaptation & Sustainable Livelihoods</li>
          <li>Inclusive Education</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- WHERE WE WORK -->
  <section id="where-we-work">
    <div class="container card">
      <h2>Where We Work ‚Äì Uganda</h2>
      <p class="muted">Operations across refugee and host communities in West Nile and nearby districts.</p>
      <div class="chips">
        <span class="chip">Arua City</span><span class="chip">Arua District</span><span class="chip">Madi Okollo</span><span class="chip">Terego</span><span class="chip">Adjumani</span><span class="chip">Moyo</span><span class="chip">Obongi</span><span class="chip">Pakwach</span><span class="chip">Nebbi</span><span class="chip">Koboko</span><span class="chip">Yumbe</span><span class="chip">Zombo</span><span class="chip">Maracha</span>
      </div>
    </div>
  </section>

  <!-- NEWS -->
  <section id="news">
    <div class="container card">
      <h2>News & Stories</h2>
      <p class="muted">Updates, stories and project highlights will appear here.</p>
    </div>
  </section>

  <!-- GET INVOLVED -->
  <section id="get-involved">
    <div class="container">
      <div class="card">
        <h2>Get Involved</h2>
        <p>Partner with us, join our team or support our programs.</p>
        <p><a href="#careers" class="btn-donate" style="background:var(--blue);">View Open Positions</a></p>
      </div>
    </div>
  </section>

  <!-- OPEN POSITIONS / CAREERS (with search & auto-hide) -->
  <section id="careersSection">
    <div class="container">
      <h2>Open Positions at UNCP</h2>
      <input id="jobSearch" placeholder="Type keywords to filter positions..." />
      <ul id="jobList" style="list-style:none;padding:0;margin:0">
        <!-- Sample position - deadline used to auto-hide -->
        <li class="job" data-deadline="2025-09-24">
          <div>
            <strong>Child Protection Case Worker (Volunteer)</strong>
            <div class="meta">Duty Station: Arua City ‚Ä¢ Duration: 6 months ‚Ä¢ Application: 10 Sep ‚Äì 24 Sep 2025</div>
          </div>
          <div class="actions">
            <button class="btn-view" onclick="showJD('Child Protection Case Worker (Volunteer)')">View JD</button>
            <button class="btn-apply" onclick="startApplication('Child Protection Case Worker (Volunteer)','2025-09-24')">Apply Now</button>
          </div>
        </li>
        <!-- Add more <li class="job" data-deadline="YYYY-MM-DD"> ... -->
      </ul>
    </div>
  </section>

  <!-- JOB DESCRIPTION MODAL -->
  <div id="jdModal" aria-hidden="true">
    <header><h3 id="jdTitle"></h3></header>
    <div class="content" id="jdContent"></div>
    <div style="padding:12px;text-align:right;">
      <button onclick="closeJD()" style="padding:8px 12px;border-radius:8px;border:none;background:var(--blue);color:#fff">Close</button>
    </div>
  </div>

  <!-- CAREERS APPLICATION FORM (full multi-step) -->
  <section id="application" class="form-wrap">
    <div class="container">
      <div id="careerFormContainer" class="card">
        <h2>Apply ‚Äì <span id="formPositionTitle">Position</span></h2>

        <form id="careersForm">
          <input type="hidden" name="position_title" id="position_title" value="" />

          <!-- STEP 1: Personal Info -->
          <div class="step active" id="step1" data-step="1">
            <h3>Step 1 ‚Äî Personal Information</h3>
            <label>Full Name<span style="color:#c62828">*</span></label>
            <input type="text" name="candidate_name" required>

            <label>Email<span style="color:#c62828">*</span></label>
            <input type="email" name="candidate_email" required>

            <label>Phone<span style="color:#c62828">*</span></label>
            <input type="tel" name="candidate_phone" required>

            <label>Address<span style="color:#c62828">*</span></label>
            <input type="text" name="candidate_address" required>

            <label>Have you previously worked for UNCP?<span style="color:#c62828">*</span></label>
            <div class="inline">
              <label><input type="radio" name="previous_uncp" value="Yes" required> Yes</label>
              <label><input type="radio" name="previous_uncp" value="No" required> No</label>
            </div>

            <label>How did you hear about us?<span style="color:#c62828">*</span></label>
            <select name="how_hear" required>
              <option value="">--Select--</option>
              <option>Job Board</option>
              <option>Event</option>
              <option>Social Media</option>
              <option>UNCP Website</option>
              <option>Others</option>
            </select>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="saveForm()">Save & Continue Later</button>
              <button type="button" class="btn" onclick="nextStep(1)">Next</button>
            </div>
          </div>

          <!-- STEP 2: Work Experience (repeatable) -->
          <div class="step" id="step2" data-step="2">
            <h3>Step 2 ‚Äî Work Experience</h3>
            <p class="muted">List all relevant work experiences. Indicate internships/volunteering in the title if applicable.</p>

            <div id="workExperienceContainer">
              <div class="card" style="padding:12px;margin-bottom:10px;">
                <label>Job Title<span style="color:#c62828">*</span></label><input type="text" name="job_title1" required>
                <label>Company<span style="color:#c62828">*</span></label><input type="text" name="company1" required>
                <label>Location (City, Country)</label><input type="text" name="location1">
                <div class="inline">
                  <label> <input type="checkbox" name="current1"> I currently work here</label>
                </div>
                <div class="inline">
                  <div><label>From</label><input type="date" name="from1"></div>
                  <div><label>To</label><input type="date" name="to1"></div>
                </div>
                <label>Role Description (max 1500 chars)</label><textarea name="role_desc1" maxlength="1500" rows="4"></textarea>
              </div>
            </div>

            <button type="button" class="add-more" onclick="addWorkExperience()">+ Add More Work Experience</button>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(2)">Back</button>
              <button type="button" class="btn" onclick="nextStep(2)">Next</button>
            </div>
          </div>

          <!-- STEP 3: Education (repeatable) -->
          <div class="step" id="step3" data-step="3">
            <h3>Step 3 ‚Äî Education</h3>
            <div id="educationContainer">
              <div class="card" style="padding:12px;margin-bottom:10px;">
                <label>School / University<span style="color:#c62828">*</span></label><input type="text" name="school1" required>
                <label>Degree<span style="color:#c62828">*</span></label><input type="text" name="degree1" required>
                <label>Field of Study</label><input type="text" name="field1">
                <div class="inline">
                  <div><label>From</label><input type="date" name="edu_from1"></div>
                  <div><label>To</label><input type="date" name="edu_to1"></div>
                </div>
              </div>
            </div>

            <button type="button" class="add-more" onclick="addEducation()">+ Add More Education</button>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(3)">Back</button>
              <button type="button" class="btn" onclick="nextStep(3)">Next</button>
            </div>
          </div>

          <!-- STEP 4: Certifications (optional, repeatable) -->
          <div class="step" id="step4" data-step="4">
            <h3>Step 4 ‚Äî Certifications (optional)</h3>
            <div id="certificationsContainer">
              <div class="card" style="padding:12px;margin-bottom:10px;">
                <label>Certification Name</label><input type="text" name="cert_name1">
                <label>Certification Number</label><input type="text" name="cert_no1">
                <label>Issued Date</label><input type="date" name="cert_date1">
                <label>Attachment</label><input type="file" name="cert_file1">
              </div>
            </div>

            <button type="button" class="add-more" onclick="addCertification()">+ Add More Certifications</button>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(4)">Back</button>
              <button type="button" class="btn" onclick="nextStep(4)">Next</button>
            </div>
          </div>

          <!-- STEP 5: Languages (repeatable) -->
          <div class="step" id="step5" data-step="5">
            <h3>Step 5 ‚Äî Languages</h3>
            <div id="languagesContainer">
              <div class="card" style="padding:12px;margin-bottom:10px;">
                <label>Language<span style="color:#c62828">*</span></label>
                <select name="language1" required>
                  <option value="">--Select--</option>
                  <option>Lugbarati</option><option>Alur</option><option>Kakwa</option><option>Ma‚Äôdi</option><option>Luganda</option><option>English</option><option>French</option><option>Arabic</option><option>Swahili</option><option>Other</option>
                </select>
                <label>Fluent</label><input type="checkbox" name="fluent1">
                <label>Overall (A1-C2 / Mother Tongue) <span style="color:#c62828">*</span></label>
                <select name="overall1" required><option value="">--Select--</option><option>A1</option><option>A2</option><option>B1</option><option>B2</option><option>C1</option><option>C2</option><option>Mother Tongue</option></select>
              </div>
            </div>

            <button type="button" class="add-more" onclick="addLanguage()">+ Add More Languages</button>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(5)">Back</button>
              <button type="button" class="btn" onclick="nextStep(5)">Next</button>
            </div>
          </div>

          <!-- STEP 6: Skills & Application Questions -->
          <div class="step" id="step6" data-step="6">
            <h3>Step 6 ‚Äî Skills & Application Questions</h3>
            <label>Skills (max 1500 chars)</label>
            <textarea name="skills" maxlength="1500" rows="4"></textarea>

            <label>a) How have your achievements and operational experience prepared you for this position? (2500 chars)<span style="color:#c62828">*</span></label>
            <textarea name="q1" maxlength="2500" rows="6" required></textarea>

            <label>b) Describe skills & competencies relevant to this position (2500 chars)<span style="color:#c62828">*</span></label>
            <textarea name="q2" maxlength="2500" rows="6" required></textarea>

            <label>c) How does this position align with your career aspirations? (1000 chars)<span style="color:#c62828">*</span></label>
            <textarea name="q3" maxlength="1000" rows="4" required></textarea>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(6)">Back</button>
              <button type="button" class="btn" onclick="nextStep(6)">Next</button>
            </div>
          </div>

          <!-- STEP 7: References (NEW before Voluntary Disclosures) -->
          <div class="step" id="step7" data-step="7">
            <h3>Step 7 ‚Äî Reference Persons</h3>
            <p class="muted">Please provide at least two professional references if available.</p>

            <div id="referencesContainer">
              <div class="card" style="padding:12px;margin-bottom:10px;">
                <label>Reference Name<span style="color:#c62828">*</span></label><input type="text" name="ref_name_1" required>
                <label>Organization / Address<span style="color:#c62828">*</span></label><input type="text" name="ref_org_1" required>
                <label>Position<span style="color:#c62828">*</span></label><input type="text" name="ref_position_1" required>
                <label>Relationship with Candidate<span style="color:#c62828">*</span></label><input type="text" name="ref_relationship_1" required>
                <label>Email<span style="color:#c62828">*</span></label><input type="email" name="ref_email_1" required>
                <label>Telephone<span style="color:#c62828">*</span></label><input type="tel" name="ref_phone_1" required>
                <label>Additional Notes</label><textarea name="ref_notes_1" rows="3"></textarea>
              </div>
            </div>

            <button type="button" class="add-more" onclick="addReference()">+ Add More Reference</button>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(7)">Back</button>
              <button type="button" class="btn" onclick="nextStep(7)">Next</button>
            </div>
          </div>

          <!-- STEP 8: Voluntary Disclosures & Terms -->
          <div class="step" id="step8" data-step="8">
            <h3>Step 8 ‚Äî Voluntary Disclosures & Terms</h3>
            <label>Date of Birth<span style="color:#c62828">*</span></label><input type="date" name="dob" required>

            <label>Marital Status<span style="color:#c62828">*</span></label>
            <select name="marital" required>
              <option value="">--Select--</option><option>Single</option><option>Married</option><option>Separated</option><option>Divorced</option><option>Registered partnership</option><option>Other</option>
            </select>

            <label>Disability (Yes/No)</label>
            <select name="disability"><option>No</option><option>Yes</option></select>

            <label>Sex<span style="color:#c62828">*</span></label>
            <select name="sex" required><option value="">--Select--</option><option>Female</option><option>Male</option><option>Not declared</option></select>

            <div class="card" style="margin-top:12px">
              <h4 style="margin:6px 0;color:var(--blue)">Terms and Conditions</h4>
              <p>UNCP will only contact shortlisted candidates. UNCP processes personal data as per its privacy policy. The information provided must be accurate. UNCP will contact listed educational institutions and employers for verification.</p>
              <label><input type="checkbox" id="agree_terms" name="agree_terms" required> I acknowledge and agree to the terms and conditions<span style="color:#c62828">*</span></label>
            </div>

            <div class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(8)">Back</button>
              <button type="button" class="btn" onclick="nextStep(8)">Next</button>
            </div>
          </div>

          <!-- STEP 9: Review & Submit -->
          <div class="step" id="step9" data-step="9">
            <h3>Step 9 ‚Äî Review & Submit</h3>
            <p class="muted">Review all the information below. Use Back to edit any section.</p>
            <div id="reviewContainer" class="review"></div>
            <div style="margin-top:12px" class="nav-buttons">
              <button type="button" class="btn secondary" onclick="prevStep(9)">Back</button>
              <button type="button" class="btn" onclick="submitApplication()">Submit Application</button>
            </div>
          </div>

        </form>
      </div>
    </div>
  </section>

  <!-- DONATE / CONTACT / LEGAL -->
  <section id="donate">
    <div class="container grid grid-2">
      <div class="card">
        <h2>Donate</h2>
        <p>Your support helps UNCP deliver protection and resilience programs. Contact us to discuss partnership and giving.</p>
        <p><strong>Email:</strong> <a href="mailto:uncip2019@gmail.com">uncip2019@gmail.com</a><br><strong>Tel:</strong> +256 702 398687 / +256 779 576538</p>
      </div>

      <div class="card">
        <h2>Contact Us</h2>
        <form id="contactForm" action="mailto:uncip2019@gmail.com" method="post" enctype="text/plain">
          <label>Your Name</label><input type="text" name="name" required>
          <label>Your Email</label><input type="email" name="email" required>
          <label>Phone</label><input type="tel" name="phone">
          <label>Subject</label><input type="text" name="subject" required>
          <label>Message</label><textarea name="message" rows="4" required></textarea>
          <div style="margin-top:8px;"><button type="submit" class="btn" style="background:var(--blue)">Send Message</button></div>
        </form>

        <p style="margin-top:12px" class="muted">Quick links: <a href="#">FAQ</a> ¬∑ <a href="#">Report Misconduct</a> ¬∑ <a href="#">Report Scammers</a></p>
      </div>
    </div>
  </section>

  <!-- LEGAL DOCS -->
  <section id="planning">
    <div class="container card">
      <h2>Legal & Organizational Documents</h2>
      <div class="legal-list">
        <a href="docs/UNCP_Registration_Certificate.pdf" target="_blank">Registration Certificate (PDF)</a>
        <a href="docs/UNCP_Constitution.pdf" target="_blank">Constitution / Articles (PDF)</a>
        <a href="docs/UNCP_Governance_Policy.pdf" target="_blank">Governance & Oversight Policy (PDF)</a>
        <a href="docs/UNCP_Safeguarding_PSEA.pdf" target="_blank">Child Safeguarding & PSEA Policy (PDF)</a>
        <a href="docs/UNCP_Annual_Report.pdf" target="_blank">Annual Report (PDF)</a>
      </div>
    </div>
  </section>

  <!-- PARTNERS -->
  <section id="partners">
    <div class="container card">
      <h2>Partners & Donors</h2>
      <p class="muted">If you are a potential donor or partner, please contact <a href="mailto:uncip2019@gmail.com">uncip2019@gmail.com</a>.</p>
    </div>
  </section>

</div> <!-- /container -->

<!-- FOOTER -->
<footer>
  <div class="container footer-grid" style="max-width:1100px">
    <div>
      <img src="logo.jpeg" alt="UNCP Logo" style="height:56px">
      <p class="muted" style="margin-top:8px">United Networks for Civil Protection (UNCP)</p>
    </div>
    <div>
      <h4 style="margin:2px 0;color:var(--blue)">Contact</h4>
      <p>Email: <a href="mailto:uncip2019@gmail.com">uncip2019@gmail.com</a><br>Tel: +256 702 398687 / +256 779 576538<br>P.O. Box 341054, Arua City, Uganda</p>
    </div>
    <div>
      <h4 style="margin:2px 0;color:var(--blue)">Follow Us</h4>
      <div class="social">
        <a href="#" class="social-icon">F</a>
        <a href="#" class="social-icon">X</a>
        <a href="#" class="social-icon">I</a>
        <a href="#" class="social-icon">Y</a>
        <a href="#" class="social-icon">T</a>
        <a href="#" class="social-icon">in</a>
      </div>
    </div>
  </div>
</footer>

<!-- Back to Top -->
<button id="backToTopBtn" title="Go to top">‚Üë Top</button>

<!-- EmailJS SDK -->
<script src="https://cdn.emailjs.com/sdk/3.2/email.min.js"></script>
<script>
/* ===================== Initialization ===================== */
emailjs.init("YOUR_USER_ID"); // <-- REPLACE with EmailJS User ID

/* ===================== Utilities & state ===================== */
const steps = Array.from(document.querySelectorAll('.step'));
let currentStep = 1;

// show step n (1..9)
function showStep(n){
  steps.forEach(s=>s.classList.remove('active'));
  const s = document.getElementById('step'+n) || document.querySelector(`.step[data-step="${n}"]`);
  if(s){ s.classList.add('active'); currentStep = n; window.scrollTo({top: s.getBoundingClientRect().top + window.scrollY - 80, behavior:'smooth'}); }
}

/* ===================== Navigation functions ===================== */
function nextStep(n){
  // basic guard: could add step-specific validation
  if(n >= 1 && n < 9) { showStep(n+1); }
  else if(n === 8){ // go to review (9)
    generateReview();
    showStep(9);
  }
}
function prevStep(n){
  if(n > 1){ showStep(n-1); }
}

/* ===================== Save & Load (localStorage) ===================== */
function saveForm(){
  const form = document.getElementById('careersForm');
  const data = {};
  for(const el of form.elements){
    if(!el.name) continue;
    if(el.type === 'checkbox') data[el.name] = el.checked;
    else if(el.type !== 'file') data[el.name] = el.value;
  }
  localStorage.setItem('uncpCareerForm', JSON.stringify(data));
  alert('Progress saved locally. You can continue later on this browser.');
}
window.addEventListener('load', ()=>{
  const saved = JSON.parse(localStorage.getItem('uncpCareerForm') || '{}');
  const form = document.getElementById('careersForm');
  for(const k in saved){
    if(form.elements[k]){
      const el = form.elements[k];
      if(el.type === 'checkbox') el.checked = saved[k];
      else el.value = saved[k];
    }
  }
});

/* ===================== Dynamic Add More functions ===================== */
let workExpCount = 1, eduCount = 1, certCount = 1, langCount = 1, refCount = 1;
function addWorkExperience(){
  workExpCount++;
  const c = document.getElementById('workExperienceContainer');
  const div = document.createElement('div');
  div.className = 'card';
  div.style.padding = '12px'; div.style.marginBottom = '10px';
  div.innerHTML = `
    <label>Job Title<span style="color:#c62828">*</span></label><input type="text" name="job_title${workExpCount}" required>
    <label>Company<span style="color:#c62828">*</span></label><input type="text" name="company${workExpCount}" required>
    <label>Location</label><input type="text" name="location${workExpCount}">
    <div style="margin-top:6px"><label><input type="checkbox" name="current${workExpCount}"> I currently work here</label></div>
    <div class="inline" style="margin-top:6px">
      <div><label>From</label><input type="date" name="from${workExpCount}"></div>
      <div><label>To</label><input type="date" name="to${workExpCount}"></div>
    </div>
    <label>Role Description</label><textarea name="role_desc${workExpCount}" maxlength="1500" rows="3"></textarea>
  `;
  c.appendChild(div);
}
function addEducation(){
  eduCount++;
  const c = document.getElementById('educationContainer');
  const div = document.createElement('div'); div.className='card'; div.style.padding='12px'; div.style.marginBottom='10px';
  div.innerHTML = `
    <label>School/University<span style="color:#c62828">*</span></label><input type="text" name="school${eduCount}" required>
    <label>Degree<span style="color:#c62828">*</span></label><input type="text" name="degree${eduCount}" required>
    <label>Field of Study</label><input type="text" name="field${eduCount}">
    <div class="inline" style="margin-top:6px"><div><label>From</label><input type="date" name="edu_from${eduCount}"></div><div><label>To</label><input type="date" name="edu_to${eduCount}"></div></div>
  `;
  c.appendChild(div);
}
function addCertification(){
  certCount++;
  const c = document.getElementById('certificationsContainer');
  const div = document.createElement('div'); div.className='card'; div.style.padding='12px'; div.style.marginBottom='10px';
  div.innerHTML = `
    <label>Certification Name</label><input type="text" name="cert_name${certCount}">
    <label>Certification Number</label><input type="text" name="cert_no${certCount}">
    <label>Issued Date</label><input type="date" name="cert_date${certCount}">
    <label>Attachment</label><input type="file" name="cert_file${certCount}">
  `;
  c.appendChild(div);
}
function addLanguage(){
  langCount++;
  const c = document.getElementById('languagesContainer');
  const div = document.createElement('div'); div.className='card'; div.style.padding='12px'; div.style.marginBottom='10px';
  div.innerHTML = `
    <label>Language<span style="color:#c62828">*</span></label>
    <select name="language${langCount}" required>
      <option value="">--Select--</option><option>Lugbarati</option><option>Alur</option><option>Kakwa</option><option>Ma‚Äôdi</option><option>Luganda</option><option>English</option><option>Other</option>
    </select>
    <label>Fluent</label><input type="checkbox" name="fluent${langCount}">
    <label>Overall<span style="color:#c62828">*</span></label>
    <select name="overall${langCount}" required><option value="">--Select--</option><option>A1</option><option>A2</option><option>B1</option><option>B2</option><option>C1</option><option>C2</option><option>Mother Tongue</option></select>
  `;
  c.appendChild(div);
}
function addReference(){
  refCount++;
  const c = document.getElementById('referencesContainer');
  const div = document.createElement('div'); div.className='card'; div.style.padding='12px'; div.style.marginBottom='10px';
  div.innerHTML = `
    <label>Reference Name<span style="color:#c62828">*</span></label><input type="text" name="ref_name_${refCount}" required>
    <label>Organization / Address<span style="color:#c62828">*</span></label><input type="text" name="ref_org_${refCount}" required>
    <label>Position<span style="color:#c62828">*</span></label><input type="text" name="ref_position_${refCount}" required>
    <label>Relationship<span style="color:#c62828">*</span></label><input type="text" name="ref_relationship_${refCount}" required>
    <label>Email<span style="color:#c62828">*</span></label><input type="email" name="ref_email_${refCount}" required>
    <label>Telephone<span style="color:#c62828">*</span></label><input type="tel" name="ref_phone_${refCount}" required>
    <label>Notes</label><textarea name="ref_notes_${refCount}" rows="2"></textarea>
  `;
  c.appendChild(div);
}

/* ===================== Job JD and apply functions ===================== */
const jobDescriptions = {
  "Child Protection Case Worker (Volunteer)": `
    <p><strong>Organization:</strong> United Networks for Civil Protection (UNCP)</p>
    <p><strong>Duty Station:</strong> Arua City</p>
    <p><strong>Duration:</strong> 6 months</p>
    <p><strong>Application Period:</strong> 10 Sep 2025 ‚Äì 24 Sep 2025</p>
    <h4>Purpose</h4><p>Provide direct support to children at risk, case management, psychosocial support, referrals and community engagement.</p>
    <h4>Key Responsibilities</h4><ul><li>Case intake, follow-up and safe closure</li><li>Psychosocial support</li><li>Referrals and documentation</li><li>Community engagement</li></ul>
    <h4>Qualifications</h4><p>Degree/diploma in relevant field and experience in child protection is an advantage.</p>
  `
};

function showJD(title){
  document.getElementById('jdTitle').innerText = title;
  document.getElementById('jdContent').innerHTML = jobDescriptions[title] || '<p>Job description not available.</p>';
  document.getElementById('jdModal').style.display = 'block';
  document.getElementById('jdModal').setAttribute('aria-hidden','false');
  window.scrollTo({top:0,behavior:'smooth'});
}
function closeJD(){
  document.getElementById('jdModal').style.display = 'none';
  document.getElementById('jdModal').setAttribute('aria-hidden','true');
}

function startApplication(position, deadline){
  // set position and scroll to form
  document.getElementById('formPositionTitle').innerText = position;
  document.getElementById('position_title').value = position;
  // Auto-fill position_title field for EmailJS
  const posInputs = document.querySelectorAll('input[name="position_title"]');
  posInputs.forEach(i=>i.value = position);
  // show form and go to step1
  document.getElementById('careerFormContainer').scrollIntoView({behavior:'smooth', block:'start'});
  showStep(1);
}

/* ===================== Review generation ===================== */
function generateReview(){
  const form = document.getElementById('careersForm');
  const review = document.getElementById('reviewContainer');
  review.innerHTML = '';
  for(const el of form.elements){
    if(!el.name) continue;
    if(el.type === 'file') {
      if(el.files && el.files.length) {
        review.innerHTML += `<p><strong>${el.name}:</strong> ${el.files[0].name}</p>`;
      }
      continue;
    }
    if(el.type === 'checkbox') {
      review.innerHTML += `<p><strong>${el.name}:</strong> ${el.checked ? 'Yes' : 'No'}</p>`;
      continue;
    }
    if(el.type === 'radio') {
      // skip unchecked radios (they will show via their checked sibling)
      if(!el.checked) continue;
    }
    if(el.value) review.innerHTML += `<p><strong>${el.name.replace(/_/g,' ')}:</strong> ${el.value}</p>`;
  }
  window.scrollTo({top: document.getElementById('reviewContainer').getBoundingClientRect().top + window.scrollY - 80, behavior:'smooth'});
}

/* ===================== Submit (EmailJS send both emails) ===================== */
function submitApplication(){
  // Validate terms checkbox
  const agree = document.getElementById('agree_terms') || document.querySelector('input[name="agree_terms"]');
  if(agree && !agree.checked){ alert('Please acknowledge the terms and conditions before submitting.'); return; }

  const form = document.getElementById('careersForm');

  // First send to UNCP (full application)
  emailjs.sendForm('YOUR_SERVICE_ID','TEMPLATE_ID_UNCP', form)
  .then((resp)=>{
    console.log('Sent to UNCP', resp);
  }, (err)=>{
    console.error('UNCP send error', err);
  });

  // Then send confirmation to candidate
  emailjs.sendForm('YOUR_SERVICE_ID','TEMPLATE_ID_CANDIDATE', form)
  .then((resp)=>{
    alert('Your application has been received. A confirmation email was sent to your address.');
    form.reset();
    localStorage.removeItem('uncpCareerForm');
    showStep(1);
  }, (err)=>{
    console.error('Candidate email error', err);
    alert('Application submitted but confirmation email failed to send. Please check your email or contact us at uncip2019@gmail.com.');
    form.reset();
    localStorage.removeItem('uncpCareerForm');
  });
}

/* ===================== Auto-hide expired positions ===================== */
(function hideExpiredJobs(){
  const today = new Date();
  document.querySelectorAll('#jobList .job').forEach(job=>{
    const deadline = job.getAttribute('data-deadline');
    if(deadline){
      const d = new Date(deadline + 'T23:59:59');
      if(today > d) job.style.display = 'none';
    }
  });
})();

/* ===================== Filter jobs by search ===================== */
document.getElementById('jobSearch').addEventListener('input', function(){
  const q = this.value.toLowerCase();
  document.querySelectorAll('#jobList .job').forEach(job=>{
    const title = job.querySelector('strong').innerText.toLowerCase();
    job.style.display = title.includes(q) ? '' : 'none';
  });
});

/* ===================== Back to top button ===================== */
const backBtn = document.getElementById('backToTopBtn');
window.addEventListener('scroll', ()=> {
  if(window.scrollY > 300) backBtn.style.display = 'block';
  else backBtn.style.display = 'none';
});
backBtn.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));

/* ===================== Search expand toggle ===================== */
document.getElementById('searchBtn').addEventListener('click', function(){
  const input = document.getElementById('searchInput');
  if(input.style.width && input.style.width !== '0px' && input.style.width !== '') {
    input.style.width = '0';
    input.value = '';
  } else {
    input.style.width = '200px';
    input.focus();
  }
});

/* ===================== Multi-step simple navigation hookup ===================== */
/* Hook "Next" & "Back" buttons generated inline to call nextStep(n) / prevStep(n) */
document.addEventListener('click', function(e){
  if(e.target.matches('[data-next]')) {
    const n = parseInt(e.target.getAttribute('data-next'),10);
    nextStep(n);
  }
  if(e.target.matches('[data-prev]')) {
    const n = parseInt(e.target.getAttribute('data-prev'),10);
    prevStep(n);
  }
});

/* Provide simple global functions used by inline buttons used earlier */
window.nextStep = function(n){ nextStep(n); }
window.prevStep = function(n){ prevStep(n); }
window.addWorkExperience = addWorkExperience;
window.addEducation = addEducation;
window.addCertification = addCertification;
window.addLanguage = addLanguage;
window.addReference = addReference;
window.saveForm = saveForm;
window.showJD = showJD;
window.closeJD = closeJD;
window.startApplication = startApplication;
window.generateReview = generateReview;
window.submitApplication = submitApplication;

/* ===================== Wire simple next/prev buttons within the form ===================== */
/* For each step we already used onclick attributes that call nextStep(n) / prevStep(n) in the form HTML earlier. */

/* ===================== Load any saved progress on load (already above) ===================== */

</script>
</body>
</html>
